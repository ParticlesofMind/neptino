<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Direct Canvas Analysis</title>
    <style>
        body { font-family: monospace; padding: 20px; line-height: 1.6; }
        .code { background: #f0f0f0; padding: 10px; border-radius: 4px; margin: 10px 0; }
        .highlight { background: yellow; padding: 2px; }
    </style>
</head>
<body>
    <h1>Canvas Dimension Analysis</h1>
    
    <p>Open the coursebuilder page, then run this code in the browser console:</p>
    
    <div class="code">
<pre>
// Canvas Analysis - Run this in the coursebuilder page console
(() => {
    const canvas = document.querySelector('#pixi-canvas');
    const container = document.querySelector('#canvas-container');
    const canvasAPI = window.canvasAPI;
    const marginManager = window.canvasMarginManager;
    
    console.log('üîç CANVAS ANALYSIS');
    console.log('==================');
    
    if (!canvas) {
        console.log('‚ùå Canvas element not found');
        return;
    }
    
    // CANVAS ELEMENT
    const canvasRect = canvas.getBoundingClientRect();
    const canvasStyle = getComputedStyle(canvas);
    
    console.log('üìê Canvas Element (#pixi-canvas):');
    console.log(`  HTML dimensions: ${canvas.width} √ó ${canvas.height}`);
    console.log(`  CSS dimensions: ${canvasStyle.width} √ó ${canvasStyle.height}`);
    console.log(`  Bounding rect: ${canvasRect.width.toFixed(2)} √ó ${canvasRect.height.toFixed(2)}`);
    
    // CONTAINER ELEMENT
    if (container) {
        const containerRect = container.getBoundingClientRect();
        const containerStyle = getComputedStyle(container);
        
        console.log('üì¶ Container Element (#canvas-container):');
        console.log(`  CSS dimensions: ${containerStyle.width} √ó ${containerStyle.height}`);
        console.log(`  Bounding rect: ${containerRect.width.toFixed(2)} √ó ${containerRect.height.toFixed(2)}`);
        console.log(`  Overflow: ${containerStyle.overflow}`);
    }
    
    // PIXI APPLICATION
    if (canvasAPI && canvasAPI.isReady()) {
        const app = canvasAPI.getApp();
        if (app) {
            const screen = app.screen || app.renderer.screen;
            console.log('üé® PIXI Application:');
            console.log(`  Screen dimensions: ${screen.width} √ó ${screen.height}`);
            console.log(`  Resolution: ${app.renderer.resolution}`);
            console.log(`  Device pixel ratio: ${devicePixelRatio}`);
        }
    } else {
        console.log('‚è≥ Canvas API not ready yet');
    }
    
    // MARGINS AND BLUE LINES
    if (marginManager) {
        const margins = marginManager.getMargins();
        console.log('üìè Margins (Blue Lines):');
        console.log(`  Top: ${margins.top}px, Right: ${margins.right}px`);
        console.log(`  Bottom: ${margins.bottom}px, Left: ${margins.left}px`);
        
        // Calculate what the blue margins actually cover
        const canvasWidth = canvas.width;
        const canvasHeight = canvas.height;
        const contentWidth = canvasWidth - margins.left - margins.right;
        const contentHeight = canvasHeight - margins.top - margins.bottom;
        
        console.log('üîµ Blue Margin Areas:');
        console.log(`  Top margin: 0 to ${margins.top}px (covers ${margins.top} √ó ${canvasWidth} = ${margins.top * canvasWidth} pixels)`);
        console.log(`  Left margin: 0 to ${margins.left}px (covers ${margins.left} √ó ${canvasHeight} = ${margins.left * canvasHeight} pixels)`);
        console.log(`  Right margin: ${canvasWidth - margins.right}px to ${canvasWidth}px (covers ${margins.right} √ó ${canvasHeight} = ${margins.right * canvasHeight} pixels)`);
        console.log(`  Bottom margin: ${canvasHeight - margins.bottom}px to ${canvasHeight}px (covers ${margins.bottom} √ó ${canvasWidth} = ${margins.bottom * canvasWidth} pixels)`);
        
        console.log('üìê Content Area (inside margins):');
        console.log(`  Canvas total: ${canvasWidth} √ó ${canvasHeight} = ${canvasWidth * canvasHeight} pixels`);
        console.log(`  Content area: ${contentWidth} √ó ${contentHeight} = ${contentWidth * contentHeight} pixels`);
        console.log(`  Content percentage: ${((contentWidth * contentHeight) / (canvasWidth * canvasHeight) * 100).toFixed(1)}%`);
    }
    
    // EXPECTED VS ACTUAL
    const expectedWidth = 1200;
    const expectedHeight = 1800;
    
    console.log('üéØ Expected vs Actual:');
    console.log(`  Expected: ${expectedWidth} √ó ${expectedHeight} = ${expectedWidth * expectedHeight} pixels`);
    console.log(`  Actual: ${canvas.width} √ó ${canvas.height} = ${canvas.width * canvas.height} pixels`);
    console.log(`  Match: ${Math.abs(canvas.width - expectedWidth) < 10 && Math.abs(canvas.height - expectedHeight) < 10 ? '‚úÖ YES' : '‚ùå NO'}`);
    
    console.log('==================');
    
    return {
        canvas: {
            htmlDimensions: { width: canvas.width, height: canvas.height },
            cssDimensions: { width: canvasStyle.width, height: canvasStyle.height },
            boundingRect: { width: canvasRect.width, height: canvasRect.height }
        },
        margins: marginManager ? marginManager.getMargins() : null,
        expected: { width: expectedWidth, height: expectedHeight },
        isExpectedSize: Math.abs(canvas.width - expectedWidth) < 10 && Math.abs(canvas.height - expectedHeight) < 10
    };
})();
</pre>
    </div>
    
    <p><strong>Instructions:</strong></p>
    <ol>
        <li>Open the coursebuilder page: <a href="http://localhost:3001/src/pages/teacher/coursebuilder.html#create" target="_blank">http://localhost:3001/src/pages/teacher/coursebuilder.html#create</a></li>
        <li>Wait for the canvas to load (you should see drawing tools)</li>
        <li>Open browser developer tools (F12)</li>
        <li>Copy and paste the code above into the console</li>
        <li>Press Enter to run the analysis</li>
    </ol>
    
    <p>This will give you detailed information about:</p>
    <ul>
        <li>Canvas HTML dimensions (the actual pixel size)</li>
        <li>Canvas CSS dimensions (the display size)</li>
        <li>Container dimensions and styling</li>
        <li>Blue margin areas and what they cover</li>
        <li>Whether the canvas is actually 1200√ó1800 pixels</li>
    </ul>
    
    <p class="highlight">The key question: Do those blue margins actually cover 1200√ó1800 pixels total, or something else?</p>
</body>
</html>