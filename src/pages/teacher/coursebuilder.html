<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="pixi-devtools" content="enabled" />
  <title>Course Builder - Neptino</title>

  <link rel="stylesheet" href="/src/scss/main.scss" />
</head>

<body class="grid">
  <header class="grid__header header">
    <nav class="nav">
      <ul class="ul ul--header">
        <li class="ul__item">
          <button class="button button--outline button--small" id="previous-btn" title="Previous Step">
            Previous
          </button>
        </li>

        <li class="ul__item">
          <a class="link link--header" href="/src/pages/teacher/home.html" title="Back to Home">
            <img class="logo logo--small" src="/src/assets/logo/octopus-logo.png" alt="Neptino Logo" />
          </a>
        </li>

        <li class="ul__item">
          <button class="button button--outline button--small" id="next-btn" title="Next Step">
            Next
          </button>
        </li>
      </ul>
    </nav>
  </header>
  <main class="grid__main coursebuilder">


    <!-- Setup View -->
    <section class="coursebuilder__setup" aria-hidden="false" id="setup">
      <aside class="aside aside--main">
        <nav>
          <ul class="aside__list">
            <li class="aside__item">
              <h3 class="aside__heading">Setup</h3>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#essentials" data-section="essentials">Essentials</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#classification" data-section="classification">Classification</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#students" data-section="students">Students</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#pedagogy" data-section="pedagogy">Pedagogy</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#templates" data-section="templates">Templates</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#schedule" data-section="schedule">Schedule</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#curriculum" data-section="curriculum">Curriculum</a>
            </li>
            <li class="aside__item">
              <h3 class="aside__heading">Publishing</h3>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#course-visibility" data-section="course-visibility">Course
                visibility</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#marketplace" data-section="marketplace">Marketplace</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#pricing-monetization" data-section="pricing-monetization">Pricing &
                Monetization</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#external-integrations" data-section="external-integrations">External
                Integrations & APIs</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#communication" data-section="communication">Communication</a>
            </li>
            <li class="aside__item">
              <h3 class="aside__heading">Engine</h3>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#page-setup" data-section="page-setup">Page Setup</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#interface" data-section="interface">Interface</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#themes" data-section="themes">Themes</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#accessibility-comfort" data-section="accessibility-comfort">Accessibility &
                Comfort</a>
            </li>
            <li class="aside__item">
              <h3 class="aside__heading">Settings</h3>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#notifications-alerts" data-section="notifications-alerts">Notifications
                & Alerts</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#data-management" data-section="data-management">Data management &
                Backup</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#advanced-settings" data-section="advanced-settings">Advanced
                Settings</a>
            </li>
          </ul>
        </nav>
      </aside>

      <!-- Essentials Article -->
      <article id="essentials" data-course-section class="article article--essentials is-active">
        <header class="article__header">
          <h2 class="article__title">Course Essentials</h2>
        </header>

        <div class="article__main">
          <form class="form form--essentials" id="course-essentials-form">
            <label class="form__label">
              Course Name
              <input class="input" type="text" name="course_name" placeholder="Enter course name" required />
            </label>
            <label class="form__label">
              Course Description
              <textarea class="form__textarea" name="course_description" rows="4"
                placeholder="Describe what students will learn" required></textarea>
            </label>
            <label class="form__label">
              Teacher
              <input class="input" type="text" name="teacher_id" placeholder="Loading..." readonly />
            </label>
            <label class="form__label">
              Institution
              <input class="input" type="text" name="institution" placeholder="Loading..." readonly />
            </label>
            <label class="form__label" for="course-language">
              Course Language
              <select class="input input--select" name="course_language" id="course-language" required>
                <option value="">Select language...</option>
              </select>
            </label>
            <label class="form__label form__label--file">
              Course Image
            </label>
            <div class="image-upload" id="course-image-upload">
              <input class="image-upload__input input input--file" type="file" name="course_image"
                id="course-image" accept="image/*" required aria-label="Upload course image" />
                <div class="image-upload__content" id="course-image-overlay">
                  <div class="image-upload__empty" id="course-image-empty">
                    <span class="image-upload__cta-title">Upload course image</span>
                    <span class="image-upload__cta-subtitle">Drag &amp; drop or click to upload</span>
                  </div>
                  <div class="image-upload__details" id="course-image-details" hidden>
                    <div class="image-upload__thumbnail">
                      <img class="image-upload__preview" id="preview-img" src="" alt="Course preview" hidden />
                      <button class="button button--small image-upload__remove" type="button" id="remove-image"
                        aria-label="Remove course image" hidden>
                        <span aria-hidden="true">×</span>
                      </button>
                    </div>
                    <div class="image-upload__meta">
                      <span class="image-upload__label">Change course image</span>
                      <span class="image-upload__filename" id="course-image-filename" hidden></span>
                    </div>
                  </div>
                </div>
            </div>

                 <div class="course-code" id="course-code-display" hidden>
              <span class="course-code__label">Course ID</span>
              <span class="course-code__value" id="course-id-value">—</span>
              <button class="button button--subtle button--small" type="button" id="course-code-copy-btn" disabled>
                Copy
              </button>
            </div>

          </form>

        <footer class="article__footer">
          <div class="article__footer-content">

       

            <div class="save-status" id="essentials-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>

            <div class="article__footer-actions">
              <button class="button button--primary button--medium" type="submit" form="course-essentials-form"
                id="save-essentials-btn">
                Create Course
              </button>
            </div>
          </div>
        </footer>
      </article>

      <!-- Classification Article -->
      <article id="classification" data-course-section class="article article--classification">
        <header class="article__header">
          <h2 class="article__title">Course Classification</h2>
        </header>

        <div class="article__main article__main--classification">
          <form class="form form--classification" id="course-classification-form">
            <!-- Row 1: Preliminary -->
            <div class="classification-section classification-section--preliminary">
              <div class="classification-section__header">
                <h3 class="classification-section__title">Preliminary</h3>
                <p class="classification-section__description">Age group and educational framework</p>
              </div>
              <div class="classification-section__content">
                <label class="form__label" for="class-year-select">
                  <span>Class Year</span>
                  <select class="form__select input input--select" name="class_year" id="class-year-select" required>
                    <option value="">Loading...</option>
                  </select>
                </label>
                <label class="form__label" for="curricular-framework-select">
                  <span>Curricular Framework</span>
                  <select class="form__select input input--select" name="curricular_framework"
                    id="curricular-framework-select" required>
                    <option value="">Loading...</option>
                  </select>
                </label>
              </div>
            </div>

            <!-- Row 2: Classification -->
            <div class="classification-section classification-section--classification">
              <div class="classification-section__header">
                <h3 class="classification-section__title">Classification</h3>
                <p class="classification-section__description">Subject matter hierarchy</p>
              </div>
              <div class="classification-section__content">
                <label class="form__label" for="domain-select">
                  <span>Domain</span>
                  <span class="form__label-hint">Academic field</span>
                  <select class="form__select input input--select" name="domain" id="domain-select" required>
                    <option value="">Loading...</option>
                  </select>
                </label>
                <label class="form__label" for="subject-select">
                  <span>Subject</span>
                  <span class="form__label-hint">Specific discipline</span>
                  <select class="form__select input input--select" name="subject" id="subject-select" required disabled>
                    <option value="">Select domain first...</option>
                  </select>
                </label>
                <label class="form__label" for="topic-select">
                  <span>Topic</span>
                  <span class="form__label-hint">Area of study</span>
                  <select class="form__select input input--select" name="topic" id="topic-select" required disabled>
                    <option value="">Select subject first...</option>
                  </select>
                </label>
                <label class="form__label" for="subtopic-select">
                  <span>Subtopic</span>
                  <span class="form__label-hint">Specific focus</span>
                  <select class="form__select input input--select" name="subtopic" id="subtopic-select" disabled>
                    <option value="">Select topic first...</option>
                  </select>
                </label>
              </div>
            </div>

            <!-- Row 3: Course Sequence -->
            <div class="classification-section classification-section--sequence">
              <div class="classification-section__header">
                <h3 class="classification-section__title">Course Sequence</h3>
                <p class="classification-section__description">Position within the learning pathway</p>
              </div>
              <div class="classification-section__content">
                <label class="form__label" for="previous-course-select">
                  <span>Previous Course</span>
                  <span class="form__label-hint">Course that should come before this one</span>
                  <select class="form__select input input--select" name="previous_course" id="previous-course-select">
                    <option value="">Loading courses...</option>
                  </select>
                </label>
                <label class="form__label" for="current-course-select">
                  <span>Current Course</span>
                  <span class="form__label-hint">Other courses at this level</span>
                  <select class="form__select input input--select" name="current_course" id="current-course-select">
                    <option value="">Loading courses...</option>
                  </select>
                </label>
                <label class="form__label" for="next-course-select">
                  <span>Next Course</span>
                  <span class="form__label-hint">Course that should come after this one</span>
                  <select class="form__select input input--select" name="next_course" id="next-course-select">
                    <option value="">Loading courses...</option>
                  </select>
                </label>
              </div>
            </div>
          </form>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="classification-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>
      <!-- Templates Article -->
      <article id="templates" data-course-section class="article article--templates">
        <header class="article__header">
          <h2 class="article__title">Template Library</h2>
          <div class="article__actions button-group button-group--right">
            <button class="button button--primary" id="create-template-btn" type="button">
              + Create New Template
            </button>
            <button class="button button--outline" id="load-template-btn" type="button">
              ↗ Load Template
            </button>
          </div>
        </header>

        <div class="article__main article__main--panels">
          <section class="article__config" aria-labelledby="template-config-title">
            <h3 id="template-config-title" class="coursebuilder__panel-title">Template Configuration</h3>
            <p id="template-config-content">Select or create a template to configure its settings.</p>
          </section>

          <section class="article__preview" aria-labelledby="template-preview-title">
            <h3 id="template-preview-title" class="coursebuilder__panel-title">Template Preview</h3>
            <p id="template-preview-content" class="article__preview-placeholder">
              Create a new template or select an existing one to see the preview here.
            </p>
          </section>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="template-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>
      <!-- Schedule Article -->
      <article id="schedule" data-course-section class="article article--schedule">
        <header class="article__header">
          <h2 class="article__title">Schedule Configuration</h2>
        </header>

        <div class="article__main article__main--panels">
          <section class="article__config">
            <form class="form form--schedule" id="schedule-config">
              <label class="form__label">
                Start Date
                <input class="input input--date" type="text" id="start-date" placeholder="DD.MM.YYYY" inputmode="numeric" autocomplete="off" required />
              </label>
              <label class="form__label">
                End Date
                <input class="input input--date" type="text" id="end-date" placeholder="DD.MM.YYYY" inputmode="numeric" autocomplete="off" required />
              </label>

              <fieldset class="schedule__days" aria-label="Days of the Week">
                <legend class="form__label">Days of the Week</legend>
                <button class="button button--outline button--small schedule__days__button" type="button"
                  data-day="monday">
                  Mon
                </button>
                <button class="button button--outline button--small schedule__days__button" type="button"
                  data-day="tuesday">
                  Tue
                </button>
                <button class="button button--outline button--small schedule__days__button" type="button"
                  data-day="wednesday">
                  Wed
                </button>
                <button class="button button--outline button--small schedule__days__button" type="button"
                  data-day="thursday">
                  Thu
                </button>
                <button class="button button--outline button--small schedule__days__button" type="button"
                  data-day="friday">
                  Fri
                </button>
                <button class="button button--outline button--small schedule__days__button" type="button"
                  data-day="saturday">
                  Sat
                </button>
                <button class="button button--outline button--small schedule__days__button" type="button"
                  data-day="sunday">
                  Sun
                </button>
              </fieldset>

              <label class="form__label">
                Start Time
                <input class="input input--time" type="text" id="start-time" placeholder="HH:MM" inputmode="numeric" autocomplete="off" required />
              </label>
              <label class="form__label">
                End Time
                <input class="input input--time" type="text" id="end-time" placeholder="HH:MM" inputmode="numeric" autocomplete="off" required />
              </label>

              <div class="schedule__actions button-group">
                <button class="button button--primary" type="button" id="schedule-course-btn" disabled>
                  Schedule Course
                </button>
                <button class="button button--delete" type="button" id="delete-schedule-btn" style="display: none;">
                  Delete Schedule
                </button>
              </div>
            </form>
          </section>

          <section class="article__preview">
            <div class="schedule__preview" id="schedule-preview">
              <div class="schedule__content">
                <p class="schedule__placeholder">Click "Schedule Course" to generate your lesson schedule</p>
              </div>
              <p class="schedule__total">Total lessons: 0</p>
            </div>
          </section>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="schedule-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>
      <!-- Curriculum Article -->
      <article id="curriculum" data-course-section class="article article--curriculum article--templates">
        <header class="article__header">
          <h2 class="article__title">Configure Curriculum</h2>
        </header>

        <div class="article__main article__main--panels">
          <section class="article__config">
            <form class="form form--curriculum">

            <!-- Module Organization -->
            <div class="curriculum-config__group curriculum-config__group--modules">
              <h3 class="curriculum-config__section-title">Module Organization</h3>
            
              <div class="module-organization-options">
                <label class="module-organization-option">
                  <input type="radio" name="module-organization" value="linear" id="module-org-linear" checked>
                  <div class="module-organization-option__content">
                    <span class="module-organization-option__name">No Modules</span>
                    <span class="module-organization-option__description">Lessons appear in a single list with no module grouping.</span>
                  </div>
                </label>
                
                <label class="module-organization-option">
                  <input type="radio" name="module-organization" value="equal" id="module-org-equal">
                  <div class="module-organization-option__content">
                    <span class="module-organization-option__name">Equal Modules</span>
                    <span class="module-organization-option__description">Lessons are evenly distributed across modules of equal size.</span>
                  </div>
                </label>
                
                <label class="module-organization-option">
                  <input type="radio" name="module-organization" value="custom" id="module-org-custom">
                  <div class="module-organization-option__content">
                    <span class="module-organization-option__name">Custom Modules</span>
                    <span class="module-organization-option__description">Define your own module boundaries.</span>
                  </div>
                </label>
              </div>
              
              <!-- Custom Module Configuration -->
              <div class="custom-modules-config disabled" id="custom-modules-config">
                <div class="custom-modules-list" id="custom-modules-list">
                  <!-- Module rows will be dynamically generated -->
                </div>
              </div>
            </div>

            <!-- Content Volume -->
            <div class="curriculum-config__group curriculum-config__group--content-volume">
              <h3 class="curriculum-config__section-title">Content Volume</h3>
              <div class="content-volume-options">
                <label class="content-volume-option">
                  <input type="radio" name="content-volume" value="mini" data-duration="mini" data-max="30">
                  <div class="content-volume-option__content">
                    <span class="content-volume-option__name">Mini</span>
                    <span class="content-volume-option__duration">≤ 30 min</span>
                    <span class="content-volume-option__description">Short session with 1–2 topics and light tasks.</span>
                  </div>
                </label>
                
                <label class="content-volume-option">
                  <input type="radio" name="content-volume" value="single" data-duration="single" data-max="60" checked>
                  <div class="content-volume-option__content">
                    <span class="content-volume-option__name">Standard</span>
                    <span class="content-volume-option__duration">≤ 60 min</span>
                    <span class="content-volume-option__description">Normal lesson with balanced topics and tasks.</span>
                  </div>
                </label>
                
                <label class="content-volume-option">
                  <input type="radio" name="content-volume" value="double" data-duration="double" data-max="120">
                  <div class="content-volume-option__content">
                    <span class="content-volume-option__name">Extended</span>
                    <span class="content-volume-option__duration">≤ 120 min</span>
                    <span class="content-volume-option__description">Double-length lesson with more practice and discussion.</span>
                  </div>
                </label>
                
                <label class="content-volume-option">
                  <input type="radio" name="content-volume" value="triple" data-duration="triple" data-max="180">
                  <div class="content-volume-option__content">
                    <span class="content-volume-option__name">Intensive</span>
                    <span class="content-volume-option__duration">≤ 180 min</span>
                    <span class="content-volume-option__description">Long block for deeper coverage or projects.</span>
                  </div>
                </label>
                
                <label class="content-volume-option">
                  <input type="radio" name="content-volume" value="halfFull" data-duration="halfFull" data-max="999">
                  <div class="content-volume-option__content">
                    <span class="content-volume-option__name">Full Day</span>
                    <span class="content-volume-option__duration">> 180 min</span>
                    <span class="content-volume-option__description">Workshop-style session with multiple breaks or modules.</span>
                  </div>
                </label>
              </div>
            </div>

            <!-- Numeric Structure Fields -->
            <div class="curriculum-config__group curriculum-config__group--structure">
              <p class="form__help-text">
                Fine-tune the content density for each lesson.
              </p>

              <div class="structure-inputs">
                <label class="form__label">
                  Topics per lesson
                  <input class="input input--number" type="number" min="1" max="10" value="2" id="curriculum-topics" />
                </label>

                <label class="form__label">
                  Objectives per topic
                  <input class="input input--number" type="number" min="1" max="5" value="2" id="curriculum-objectives" />
                </label>

                <label class="form__label">
                  Tasks per objective
                  <input class="input input--number" type="number" min="1" max="5" value="2" id="curriculum-tasks" />
                </label>
              </div>
            </div>

            <!-- Course Type -->
            <div class="curriculum-config__group curriculum-config__group--course-type">
              <h3 class="curriculum-config__section-title">Course Type</h3>
            
              <div class="course-type-options">
                <label class="course-type-option">
                  <input type="radio" name="course-type" value="minimalist" id="course-type-minimalist">
                  <div class="course-type-option__content">
                    <span class="course-type-option__title">Minimalist Course</span>
                    <span class="course-type-option__description">Core instructional templates only</span>
                    <ul class="course-type-option__templates">
                      <li>Lesson</li>
                      <li>Quiz</li>
                    </ul>
                  </div>
                </label>
                
                <label class="course-type-option">
                  <input type="radio" name="course-type" value="essential" id="course-type-essential" checked>
                  <div class="course-type-option__content">
                    <span class="course-type-option__title">Essential Course</span>
                    <span class="course-type-option__description">All Minimalist templates plus evaluation and certification</span>
                    <ul class="course-type-option__templates">
                      <li>Lesson</li>
                      <li>Quiz</li>
                      <li>Feedback</li>
                      <li>Assessment</li>
                      <li>Certificate</li>
                    </ul>
                  </div>
                </label>
                
                <label class="course-type-option">
                  <input type="radio" name="course-type" value="complete" id="course-type-complete">
                  <div class="course-type-option__content">
                    <span class="course-type-option__title">Complete Course</span>
                    <span class="course-type-option__description">Every available template included</span>
                    <ul class="course-type-option__templates">
                      <li>Lesson</li>
                      <li>Quiz</li>
                      <li>Feedback</li>
                      <li>Assessment</li>
                      <li>Report</li>
                      <li>Review</li>
                      <li>Project</li>
                      <li>Module Orientation</li>
                      <li>Course Orientation</li>
                      <li>Certificate</li>
                    </ul>
                  </div>
                </label>
                
                <label class="course-type-option">
                  <input type="radio" name="course-type" value="custom" id="course-type-custom">
                  <div class="course-type-option__content">
                    <span class="course-type-option__title">Custom Course</span>
                    <span class="course-type-option__description">Manually select any combination of templates</span>
                    <p class="course-type-option__note">Configure template placements below</p>
                  </div>
                </label>
              </div>
            </div>

            <!-- Template Placement Section -->
            <div class="curriculum-config__group curriculum-config__group--templates">
              <h3 class="curriculum-config__section-title">Template Placement</h3>
              <div class="template-placement" id="curriculum-template-placement-list">
                <!-- Template placement cards will be rendered here by JavaScript -->
              </div>
            </div>

            <!-- AI Generation Section -->
            <div class="curriculum-config__group curriculum-config__group--ai-generation">
              <h3 class="curriculum-config__section-title">Generate Curriculum</h3>
              <div class="ai-generation__context">                
                <div class="ai-generation__context-checkboxes">
                  <!-- Mandatory Context -->
                  <div class="ai-generation__context-section">
                    <h5 class="ai-generation__context-heading">Required Context</h5>
                    <label class="checkbox-label checkbox-label--disabled">
                      <input type="checkbox" name="ai-context-essentials" checked disabled>
                      <span>Course Essentials (Name, Description, Teacher, Institution, Language)</span>
                    </label>
                    <label class="checkbox-label checkbox-label--disabled">
                      <input type="checkbox" name="ai-context-classification" checked disabled>
                      <span>Classification (Subject, Topics, Year Level)</span>
                    </label>
                    <label class="checkbox-label checkbox-label--disabled">
                      <input type="checkbox" name="ai-context-pedagogy" checked disabled>
                      <span>Pedagogy Approach</span>
                    </label>
                  </div>

                  <!-- Optional Context -->
                  <div class="ai-generation__context-section">
                    <h5 class="ai-generation__context-heading">Optional Context</h5>
                    <label class="checkbox-label">
                      <input type="checkbox" name="ai-context-schedule" checked>
                      <span>Schedule Settings</span>
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" name="ai-context-structure" checked>
                      <span>Content Structure (Topics, Objectives, Tasks)</span>
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" name="ai-context-existing">
                      <span>Existing Curriculum Content</span>
                    </label>
                  </div>
                </div>
              </div>
              <div class="ai-generation__options">

                <div class="ai-generation__buttons">
                  <button type="button" class="button button--primary" data-ai-generate="all">
                    Generate All
                  </button>
                  <button type="button" class="button button--outline" data-ai-generate="modules">
                    Generate Module Names
                  </button>
                  <button type="button" class="button button--outline" data-ai-generate="lessons">
                    Generate Lesson Names
                  </button>
                  <button type="button" class="button button--outline" data-ai-generate="topics">
                    Generate Topic Titles
                  </button>
                  <button type="button" class="button button--outline" data-ai-generate="objectives">
                    Generate Objectives
                  </button>
                  <button type="button" class="button button--outline" data-ai-generate="tasks">
                    Generate Tasks
                  </button>
                </div>

                <!-- Status Display -->
                <div class="ai-generation__status" id="ai-generation-status" style="display: none;">
                  <div class="ai-generation__status-content">
                    <div class="spinner"></div>
                    <span class="ai-generation__status-text">Initializing AI model...</span>
                  </div>
                  <div class="ai-generation__progress-bar">
                    <div class="ai-generation__progress-fill" style="width: 0%"></div>
                  </div>
                </div>
              </div>
            </div>
            </form>
          </section>

          <section class="article__preview">
            <div class="curriculum__preview" id="curriculum-preview">
              <p class="article__preview-placeholder" id="curriculum-preview-placeholder">
                Configure your curriculum on the left to unlock the live preview.
              </p>
              <div class="curriculum__preview-content">
                <nav class="curriculum__controls" aria-label="Curriculum view modes">
                  <button class="button button--small button--outline" type="button" data-mode="modules">
                    Modules
                  </button>
                  <button class="button button--small button--outline" type="button" data-mode="titles">
                    Lessons
                  </button>
                  <button class="button button--small button--outline" type="button" data-mode="topics">
                    Topics
                  </button>
                  <button class="button button--small button--outline" type="button" data-mode="objectives">
                    Objectives
                  </button>
                  <button class="button button--small button--outline" type="button" data-mode="tasks">
                    Tasks
                  </button>
                  <button class="button button--small button--outline" type="button" data-mode="all">
                    All
                  </button>
                </nav>

                <div class="editable-surface" aria-live="polite">
                  <!-- Dynamic content -->
                </div>
              </div>
            </div>
          </section>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="curriculum-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>
      <!-- Settings Article -->
      <article id="settings" data-course-section class="article article--settings">
        <header class="article__header">
          <h2 class="article__title">General Settings</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">General settings content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="general-settings-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>
      <!-- Marketplace Article -->

      <article id="marketplace" data-course-section class="article article--marketplace">
        <header class="article__header">
          <h2 class="article__title">Marketplace</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">Marketplace integration features will be available here...</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="marketplace-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Resources Article -->
      <article id="resources" data-course-section class="article article--resources">
        <header class="article__header">
          <h2 class="article__title">Resources</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">Resources content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="resources-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Students Article -->
      <article id="students" data-course-section class="article article--students">
        <header class="article__header students__header">
          <div class="students__heading">
            <h2 class="article__title">Students</h2>
            <p class="students__subtitle">
              Import rosters, personalise profiles for Albert AI, and keep every learner aligned with course templates.
            </p>
          </div>
        </header>

        <div class="article__main article__main--panels">
          <section class="article__config students__config" aria-labelledby="students-roster-title">
            <div class="students__options">
              <button class="button button--primary button--medium students__trigger" type="button"
                data-modal-target="students-upload-modal" id="students-upload-btn">
                Upload students
              </button>

              <label class="form__label students__option" for="students-import-contacts-toggle">
                <input class="form__radio" type="radio" id="students-import-contacts-toggle" name="students-method" value="import-contacts" />
                <span>Import Contacts</span>
              </label>

              <label class="form__label students__option" for="students-manual-entry-toggle">
                <input class="form__radio" type="radio" id="students-manual-entry-toggle" name="students-method" value="manual-entry" />
                <span>Manual Entry</span>
              </label>
            </div>

            <form class="form form--students" id="students-form">
              <div class="students__feedback" id="students-feedback" role="alert" aria-live="assertive" hidden></div>
            </form>
          </section>

          <section class="article__preview students__preview" aria-labelledby="students-preview-title">
          <div class="students__table-wrapper" role="region" aria-live="polite" aria-busy="false"
            aria-describedby="students-preview-empty">
            <table class="students__table" id="students-preview-table">
              <thead>
                <tr>
                  <th scope="col">First name</th>
                  <th scope="col">Last name</th>
                  <th scope="col">Email</th>
                  <th scope="col">Student ID</th>
                  <th scope="col">Grade level</th>
                  <th scope="col">Learning style</th>
                  <th scope="col">Initial assessment</th>
                </tr>
              </thead>
              <tbody id="students-preview-body">
                <tr class="students__preview-empty" id="students-preview-empty">
                  <td colspan="7">
                    No roster loaded yet. Upload or enter students to generate a preview.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          </section>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="students-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <article class="modal modal--coursebuilder modal--students" id="students-upload-modal" aria-hidden="true"
        role="dialog" aria-labelledby="students-upload-title" aria-modal="true">
        <div class="modal__content">
          <header class="modal__header">
            <h2 class="modal__title" id="students-upload-title">Upload students</h2>
            <button class="button button--subtle button--small modal__close" type="button"
              data-modal-close="students-upload-modal" aria-label="Close upload students modal">
              &times;
            </button>
          </header>
          <form class="form students-upload__form modal__body" id="students-upload-form" novalidate>
            <fieldset class="students-upload__fieldset">
              <legend class="students-upload__legend">Select a roster file</legend>
              <label class="form__label form__label--stacked" for="students-upload-input">
                Supported formats: Excel (XLSX), CSV, Google Sheets, PDF, Word (DOCX)
                <input class="input input--file" type="file" id="students-upload-input" name="rosterFile"
                  accept=".csv,.tsv,.xls,.xlsx,.ods,.pdf,.docx,.doc,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/csv"
                  aria-describedby="students-upload-help" />
              </label>
          
            </fieldset>

            <fieldset class="students-upload__fieldset">
              <legend class="students-upload__legend">Import from Google Sheets</legend>
              <label class="form__label" for="students-sheets-url">
                Paste a shareable URL
                <input class="input" type="url" id="students-sheets-url" name="sheetsUrl"
                  placeholder="https://docs.google.com/spreadsheets/d/..." />
              </label>
              <div class="students-upload__actions">
                <button class="button button--outline button--small" type="button" id="students-fetch-sheets-btn">
                  Fetch Sheet
                </button>
                <button class="button button--subtle button--small" type="button" id="students-sheets-help-btn">
                  How do I share a sheet?
                </button>
              </div>
            </fieldset>

            <section class="students-upload__mapping" id="students-mapping" hidden aria-live="polite">
              <header class="students-upload__mapping-header">
                <h3 class="students-upload__mapping-title">Map your columns</h3>
                <p class="students-upload__mapping-text">
                  We could not automatically match every column. Map each field below to continue.
                </p>
              </header>
              <div class="students-upload__mapping-grid" id="students-mapping-grid" role="group"
                aria-describedby="students-mapping-support">
                <!-- Mapping controls injected by studentsUploadManager.ts -->
              </div>
              <p class="students-upload__mapping-support" id="students-mapping-support">
                Required fields: First name and Last name. Optional fields improve personalised pathways.
              </p>
            </section>

            <div class="students-upload__feedback" id="students-upload-feedback" role="alert" hidden></div>

            <footer class="modal__footer">
              <div class="students-upload__status" aria-live="assertive" id="students-upload-status" hidden>
                <span class="students-upload__spinner" aria-hidden="true"></span>
                <span class="students-upload__status-text">Processing roster…</span>
              </div>
              <button class="button button--outline" type="button" data-modal-close="students-upload-modal">
                Cancel
              </button>
              <button class="button button--primary" type="submit" id="students-upload-submit-btn" disabled>
                Import Students
              </button>
            </footer>
          </form>
        </div>
      </article>

      <article class="modal modal--coursebuilder modal--students" id="students-manual-modal" aria-hidden="true"
        role="dialog" aria-labelledby="students-manual-title" aria-modal="true">
        <div class="modal__content">
          <header class="modal__header">
            <h2 class="modal__title" id="students-manual-title">Manual student entry</h2>
            <button class="button button--subtle button--small modal__close" type="button"
              data-modal-close="students-manual-modal" aria-label="Close manual entry modal">
              &times;
            </button>
          </header>
          <form class="form students-manual__form modal__body" id="students-manual-form" novalidate>
            <fieldset class="students-manual__fieldset">
              <legend class="students-manual__legend">Single student</legend>
              <div class="students-manual__grid">
                <label class="form__label" for="manual-first-name">
                  First name*
                  <input class="input" type="text" id="manual-first-name" name="first_name" autocomplete="given-name"
                    required />
                </label>
                <label class="form__label" for="manual-last-name">
                  Last name*
                  <input class="input" type="text" id="manual-last-name" name="last_name" autocomplete="family-name"
                    required />
                </label>
                <label class="form__label" for="manual-email">
                  Email
                  <input class="input" type="email" id="manual-email" name="email"
                    placeholder="learner@school.org (optional)" autocomplete="email" />
                </label>
                <label class="form__label" for="manual-student-id">
                  Student ID
                  <input class="input" type="text" id="manual-student-id" name="student_id"
                    placeholder="Auto-generated if blank" />
                </label>
                <label class="form__label" for="manual-grade-level">
                  Grade level
                  <select class="input input--select" id="manual-grade-level" name="grade_level">
                    <option value="">Select grade level</option>
                    <option value="Elementary">Elementary</option>
                    <option value="Middle">Middle</option>
                    <option value="High School">High School</option>
                    <option value="Undergraduate">Undergraduate</option>
                    <option value="Professional">Professional</option>
                  </select>
                </label>
                <label class="form__label" for="manual-enrollment-date">
                  Enrollment date
                  <input class="input" type="date" id="manual-enrollment-date" name="enrollment_date" />
                </label>
                <label class="form__label form__label--stacked" for="manual-learning-style">
                  Learning style preferences
                  <input class="input" type="text" id="manual-learning-style" name="learning_style"
                    placeholder="e.g., Visual, Collaborative" />
                </label>
                <label class="form__label form__label--stacked" for="manual-assessment-score">
                  Initial assessment score
                  <input class="input" type="number" step="0.1" id="manual-assessment-score" name="assessment_score"
                    placeholder="Optional score" />
                </label>
                <label class="form__label form__label--stacked" for="manual-notes">
                  Custom notes
                  <textarea class="form__textarea" id="manual-notes" name="notes" rows="3"
                    placeholder="Pedagogy flags like ‘needs extra simulations’"></textarea>
                </label>
              </div>
            </fieldset>

            <fieldset class="students-manual__fieldset">
              <legend class="students-manual__legend">Bulk entry</legend>
              <p class="students-manual__bulk-hint">
                Paste CSV-style rows (First name, Last name, Email, Student ID, Grade level, Learning style,
                Assessment score, Enrollment date, Notes). Missing optional fields will fall back to defaults.
              </p>
              <label class="form__label form__label--stacked" for="manual-bulk-input">
                Bulk students
                <textarea class="form__textarea students-manual__bulk-input" id="manual-bulk-input"
                  name="bulk_students" rows="6"
                  placeholder="Jane,Doe,jane@school.org,12345,High School,Visual,88,2024-08-24,Loves experiments">
                </textarea>
              </label>
            </fieldset>

            <div class="students-manual__feedback" id="students-manual-feedback" role="alert" hidden></div>

            <footer class="modal__footer">
              <div class="students-manual__status" aria-live="assertive" id="students-manual-status" hidden>
                <span class="students-manual__spinner" aria-hidden="true"></span>
                <span class="students-manual__status-text">Saving students…</span>
              </div>
              <button class="button button--outline" type="button" data-modal-close="students-manual-modal">
                Cancel
              </button>
              <button class="button button--primary" type="submit" id="students-manual-submit-btn">
                Save Students
              </button>
            </footer>
          </form>
        </div>
      </article>

      <!-- Pedagogy Article -->
      <article id="pedagogy" data-course-section class="article article--pedagogy article--templates">
        <header class="article__header">
          <h2 class="article__title">Pedagogy Map</h2>
        </header>

        <div class="article__main article__main--panels">
          <section class="article__config">
            <form class="form" id="course-pedagogy-form">
            <input type="hidden" name="course_pedagogy" id="course-pedagogy-input" />

            <div class="learning-plane" id="pedagogy-ui">
              <figure class="learning-plane__grid" role="application" aria-label="Pedagogical coordinate plane"
                tabindex="0">
                <span class="learning-plane__axis learning-plane__axis--left">Essentialist</span>
                <span class="learning-plane__axis learning-plane__axis--right">Progressive</span>
                <span class="learning-plane__axis learning-plane__axis--top">Constructivist</span>
                <span class="learning-plane__axis learning-plane__axis--bottom">Behaviorist</span>
                <span class="learning-plane__marker" id="pedagogy-marker" aria-hidden="true"></span>
              </figure>

              <div class="learning-plane__coords-container">
                <p class="learning-plane__coord">
                  <span class="learning-plane__coord-label">X</span>
                  <output class="learning-plane__coord-value" id="pedagogy-x">0</output>
                </p>
                <p class="learning-plane__coord">
                  <span class="learning-plane__coord-label">Y</span>
                  <output class="learning-plane__coord-value" id="pedagogy-y">0</output>
                </p>
              </div>

              <menu class="learning-plane__presets button-group" aria-label="Preset positions">
                <button type="button" class="button button--preset" data-x="-75" data-y="-75">Traditional</button>
                <button type="button" class="button button--preset" data-x="75" data-y="75">Progressive</button>
                <button type="button" class="button button--preset" data-x="-25" data-y="75">Guided Discovery</button>
                <button type="button" class="button button--preset" data-x="0" data-y="0">Balanced</button>
              </menu>
            </div>

            </form>
          </section>

          <section class="article__preview">
            <div class="learning-plane__summary">
              <h3 class="learning-plane__summary-title" id="pedagogy-approach-title">Balanced</h3>
              <p class="learning-plane__summary-subtitle" id="pedagogy-approach-subtitle">
                <em>Essentialist × Behaviorist ↔ Progressive × Constructivist</em>
              </p>
              <p class="learning-plane__summary-description" id="pedagogy-approach-desc">
                A balanced blend of teacher guidance, student agency, and mixed knowledge construction.
              </p>

              <div class="learning-plane__effects-section">
                <h4 class="learning-plane__effects-title">Effects</h4>
                <ul class="learning-plane__effects-list" id="pedagogy-effects-list">
                  <!-- Dynamic bullets injected by script -->
                </ul>
              </div>
            </div>
          </section>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="pedagogy-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Course Visibility Article -->
      <article id="course-visibility" data-course-section class="article article--course-visibility">
        <header class="article__header">
          <h2 class="article__title">Course Visibility</h2>
        </header>

        <div class="article__main">
          <form class="form form--course-visibility settings__section" id="course-settings-form">
            <fieldset class="settings__checkboxes">
              <label class="form__label">
                <input class="input input--checkbox" type="checkbox" name="course_visible" />
                Course visible to students
              </label>

              <label class="form__label">
                <input class="input input--checkbox" type="checkbox" name="allow_enrollment" />
                Allow new enrollments
              </label>

              <label class="form__label">
                <input class="input input--checkbox" type="checkbox" name="require_approval" />
                Require enrollment approval
              </label>

              <label class="form__label">
                <input class="input input--checkbox" type="checkbox" name="enable_notifications" />
                Enable email notifications for new enrollments
              </label>

              <label class="form__label">
                <input class="input input--checkbox" type="checkbox" name="public_course" />
                Make course publicly discoverable
              </label>
            </fieldset>
          </form>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="course-visibility-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Pricing & Monetization Article -->
      <article id="pricing-monetization" data-course-section class="article article--pricing-monetization">
        <header class="article__header">
          <h2 class="article__title">Pricing & Monetization</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">Pricing & Monetization content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="pricing-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- External Integrations & APIs Article -->
      <article id="external-integrations" data-course-section class="article article--external-integrations">
        <header class="article__header">
          <h2 class="article__title">External Integrations & APIs</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">External Integrations & APIs content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="integrations-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Communication Article -->
      <article id="communication" data-course-section class="article article--communication">
        <header class="article__header">
          <h2 class="article__title">Communication</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">Communication content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="communication-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Page Setup Article -->
      <article id="page-setup" data-course-section class="article article--page-setup article--page-setup">
        <header class="article__header">
          <h2 class="article__title">Page Configuration</h2>
        </header>

        <div class="article__main article__main--panels">
          <section class="article__config">
            <form class="page-setup__config" id="page-setup-form">
            <fieldset class="page-setup__section page-setup__unit-options">
              <legend class="page-setup__label">Units</legend>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="units" value="cm" checked />
                Metric (cm)
              </label>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="units" value="inches" />
                Imperial (inches)
              </label>
            </fieldset>

            <fieldset class="page-setup__section page-setup__orientation-options">
              <legend class="page-setup__label">Orientation</legend>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="orientation" value="portrait" checked />
                Portrait
              </label>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="orientation" value="landscape" />
                Landscape
              </label>
            </fieldset>

            <fieldset class="page-setup__section page-setup__size-options">
              <legend class="page-setup__label">Canvas Size</legend>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="canvas-size" value="a4" checked />
                <span class="canvas-size-label" data-cm="A4 (21.0 × 29.7 cm)"
                  data-inches="A4 (8.27&quot; × 11.69&quot;)">A4 (21.0 × 29.7 cm)</span>
              </label>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="canvas-size" value="us-letter" />
                <span class="canvas-size-label" data-cm="US Letter (21.6 × 27.9 cm)"
                  data-inches="US Letter (8.5&quot; × 11&quot;)">US Letter (21.6 × 27.9 cm)</span>
              </label>
            </fieldset>

            <fieldset class="page-setup__section">
              <legend class="page-setup__label">Margins</legend>
              <div class="page-setup__margins">
                <div class="page-setup__margin-group">
                  <label class="page-setup__margin">
                    Top
                    <input class="input input--number" type="number" name="margin_top" value="2.54" step="0.01" min="0"
                      max="100" />
                    <span class="page-setup__unit">cm</span>
                  </label>
                  <label class="page-setup__margin">
                    Bottom
                    <input class="input input--number" type="number" name="margin_bottom" value="2.54" step="0.01"
                      min="0" max="100" />
                    <span class="page-setup__unit">cm</span>
                  </label>
                </div>
                <div class="page-setup__margin-group">
                  <label class="page-setup__margin">
                    Left
                    <input class="input input--number" type="number" name="margin_left" value="2.54" step="0.01" min="0"
                      max="100" />
                    <span class="page-setup__unit">cm</span>
                  </label>
                  <label class="page-setup__margin">
                    Right
                    <input class="input input--number" type="number" name="margin_right" value="2.54" step="0.01"
                      min="0" max="100" />
                    <span class="page-setup__unit">cm</span>
                  </label>
                </div>
              </div>
            </fieldset>
            </form>
          </section>

          <section class="article__preview">
            <div class="page-setup__preview">
              <p class="article__preview-placeholder" id="page-setup-preview-placeholder">
                Adjust page settings to refresh the live preview instantly.
              </p>
            <h3 class="header">Page Preview</h3>
            <div class="page-setup__canvas-container">
              <canvas class="page-setup__canvas" id="page-preview-canvas" width="400" height="500"></canvas>
              <div class="page-setup__canvas-info">
                <output class="page-setup__dimensions" id="canvas-dimensions">210 × 297 mm (A4 Portrait)</output>
                <output class="page-setup__margins-info" id="margins-info">Margins: 2.54mm all sides</output>
              </div>
            </div>
            </div>
          </section>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="page-setup-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Interface Article -->
      <article id="interface" data-course-section class="article article--interface">
        <header class="article__header">
          <h2 class="article__title">Interface</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">Interface content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="interface-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Themes Article -->
      <article id="themes" data-course-section class="article article--themes">
        <header class="article__header">
          <h2 class="article__title">Themes</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">Themes content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="themes-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Accessibility & Comfort Article -->
      <article id="accessibility-comfort" data-course-section class="article article--accessibility-comfort">
        <header class="article__header">
          <h2 class="article__title">Accessibility & Comfort</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">Accessibility & Comfort content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="accessibility-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Notifications & Alerts Article -->
      <article id="notifications-alerts" data-course-section class="article article--notifications-alerts">
        <header class="article__header">
          <h2 class="article__title">Notifications & Alerts</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">Notifications & Alerts content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="notifications-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Data Management & Backup Article -->
      <article id="data-management" data-course-section class="article article--data-management">
        <header class="article__header">
          <h2 class="article__title">Data Management & Backup</h2>
        </header>

        <div class="article__main">
          <p class="placeholder">Data Management & Backup content will be added here.</p>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="data-management-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>

      <!-- Advanced Settings Article -->
      <article id="advanced-settings" data-course-section class="article article--advanced-settings">
        <header class="article__header">
          <h2 class="article__title">Advanced Settings</h2>
        </header>

        <!-- Danger Zone -->
        <div class="article__main">
          <section class="settings__section settings__section--danger">
            <h3 class="settings__heading settings__heading--danger">
              Danger Zone
            </h3>
            <p class="settings__description">
              Once you delete a course, there is no going back. Please be certain.
            </p>
            <button class="button button--delete" id="delete-course-btn">
              Delete Course
            </button>
          </section>
        </div>

        <footer class="article__footer">
          <div class="article__footer-content">
            <div class="save-status" id="advanced-settings-save-status" aria-live="polite" data-status="empty">
              <span class="save-status__icon" aria-hidden="true"></span>
              <span class="save-status__text">No data submitted yet</span>
            </div>
          </div>
        </footer>
      </article>
    </section>




    <!-- Create View -->
    <div class="coursebuilder__create" aria-hidden="true" id="create">
      <div class="engine">


        <div class="engine__content">
          <div class="engine__media">
            <div class="engine__media-item" data-media="files">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-files.svg" alt="">
              <span class="icon-label">Files</span>
            </div>
            <div class="engine__media-item" data-media="images">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-image.svg" alt="">
              <span class="icon-label">Images</span>
            </div>
            <div class="engine__media-item" data-media="videos">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-video.svg" alt="">
              <span class="icon-label">Videos</span>
            </div>
            <div class="engine__media-item" data-media="audio">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-audio.svg" alt="">
              <span class="icon-label">Audio</span>
            </div>
            <div class="engine__media-item" data-media="text">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-text.svg" alt="">
              <span class="icon-label">Text</span>
            </div>
            <div class="engine__media-item" data-media="plugin">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-plugins.svg" alt="">
              <span class="icon-label">Plugins</span>
            </div>
            <div class="engine__media-item" data-media="links">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-link.svg" alt="">
              <span class="icon-label">Links</span>
            </div>
            <div class="engine__media-item" data-media="interactive">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-interactive.svg" alt="">
              <span class="icon-label">Interactive</span>
            </div>
            <div class="engine__media-item" data-media="games">
              <img class="icon icon--base" src="/src/assets/icons/joystick-icon.svg" alt="">
              <span class="icon-label">Games</span>
            </div>
            <div class="engine__media-item" data-media="graphs">
              <img class="icon icon--base" src="/src/assets/icons/chart-area-icon.svg" alt="">
              <span class="icon-label">Graphs</span>
            </div>
          </div>
          <!-- Search -->
          <div class="engine__search search">
            <input class="input input--search" type="search" placeholder="Search media..." id="media-search-input">
          </div>
        </div>

        <!-- Canvas Area -->
        <div class="engine__canvas canvas canvas--grid" id="canvas-container">
          <!-- Canvas will be inserted here by JavaScript -->

          <!-- Left Side: Perspective + Mode (inside canvas) -->
          <div class="engine__perspective">
            <!-- Zoom Indicator -->
            <div class="engine__perspective-zoom" title="Current zoom level - Ctrl/Cmd+wheel to zoom">100%</div>

            <div class="engine__perspective-item" data-perspective="zoom-in" title="Zoom In">
              <img src="/src/assets/icons/coursebuilder/perspective/zoomin-icon.svg" alt="Zoom In"
                class="icon icon--base">
              <span class="icon-label">Zoom In</span>
            </div>
            <div class="engine__perspective-item" data-perspective="zoom-out" title="Zoom Out">
              <img src="/src/assets/icons/coursebuilder/perspective/zoomout-icon.svg" alt="Zoom Out"
                class="icon icon--base">
              <span class="icon-label">Zoom Out</span>
            </div>

            <div class="engine__perspective-item" data-perspective="reset" title="Reset View">
              <img src="/src/assets/icons/coursebuilder/perspective/reset-icon.svg" alt="Reset View"
                class="icon icon--base">
              <span class="icon-label">Reset</span>
            </div>

            <div class="engine__perspective-item" data-perspective="grab" title="grab">
              <img src="/src/assets/icons/coursebuilder/perspective/grab-icon.svg" alt="grab" class="icon icon--base">
              <span class="icon-label">Grab</span>
            </div>

            <!-- Grid button (opens Snap Menu) -->
            <div class="engine__perspective-item" data-perspective="grid" title="Snapping" data-snap-anchor>
              <img src="/src/assets/icons/coursebuilder/perspective/grid-icon.svg" alt="Snapping"
                class="icon icon--base">
              <span class="icon-label">Grid</span>
            </div>
          </div>

          <!-- Bottom: Modes and Tools Container -->
          <div class="engine__controls">

            <!-- Mode Selector -->
            <div class="engine__modes">
              <div class="engine__modes-item engine__modes-item--compact" data-mode="build">
                <img class="icon icon--base" src="/src/assets/icons/coursebuilder/modes/mode-build.svg" alt="">
                <span class="icon-label">Build</span>
              </div>

              <div class="engine__modes-item engine__modes-item--compact" data-mode="animate">
                <img class="icon icon--base" src="/src/assets/icons/coursebuilder/modes/mode-animate.svg" alt="">
                <span class="icon-label">Animate</span>
              </div>
            </div>

            <!-- Tools (2 rows) -->
            <div class="engine__tools">
              <!-- Tool Options Row (Top) -->
              <div class="engine__tools-options">
                <!-- Pen Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--pen"
                  style="display: none;">
                  <input type="number" min="1" max="15" value="2" class="input input--number" title="Pen Size"
                    data-setting="size">

                  <div class="color-selector" data-color-selector="pen-stroke" data-initial-color="#282a29"
                    title="Stroke Color"></div>
                  <div class="color-selector" data-color-selector="pen-fill" data-initial-color="#fef6eb"
                    data-allow-transparent="true" title="Fill Color"></div>
                </div>

                <!-- Text Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--text"
                  style="display: none;">
                  <select id="text-size-select" class="input input--select" title="Text Size" data-setting="fontSize">
                    <option value="12" data-label="Normal">Normal Text (12 pt)</option>
                    <option value="26" data-label="Title">Title (26 pt)</option>
                    <option value="20" data-label="Header1">Header 1 (20 pt)</option>
                    <option value="16" data-label="Header2" selected>Header 2 (16 pt)</option>
                    <option value="14" data-label="Header3">Header 3 (14 pt)</option>
                  </select>

                  <div class="text-style-controls" aria-label="Text Style">
                    <button type="button" class="tools__button text-style-btn icon icon--base" data-text-style="bold"
                      title="Bold">B</button>
                    <button type="button" class="tools__button text-style-btn icon icon--base" data-text-style="italic"
                      title="Italic">I</button>
                  </div>

                  <select id="font-family-select" class="input input--select" title="Font Family"
                    data-setting="fontFamily">
                    <option value="Arial" data-font-family="Arial">Arial</option>
                    <option value="Times New Roman" data-font-family="Times New Roman">Times New Roman</option>
                    <option value="Georgia" data-font-family="Georgia">Georgia</option>
                    <option value="Verdana" data-font-family="Verdana">Verdana</option>
                    <option value="Tahoma" data-font-family="Tahoma">Tahoma</option>
                  </select>

                  <div class="color-selector" data-color-selector="text" data-initial-color="#282a29"
                    title="Text Color"></div>
                </div>

                <!-- Brush Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--brush"
                  style="display: none;">
                  <input type="number" min="10" max="50" value="20" class="input input--number" title="Brush Size"
                    data-setting="size">

                  <div class="color-selector" data-color-selector="brush" data-initial-color="#2b8059"
                    title="Brush Color"></div>
                </div>

                <!-- Shapes Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--shapes"
                  style="display: none;">
                  <div class="shape-selector" data-shape-selector="shapes" data-initial-shape="rectangle"
                    title="Shape Type"></div>

                  <input type="number" min="1" max="20" value="2" class="input input--number" title="Shape Thickness"
                    data-setting="strokeWidth">

                  <div class="color-selector" data-color-selector="shapes-stroke" data-initial-color="#282a29"
                    title="Shape Stroke"></div>
                  <div class="color-selector" data-color-selector="shapes-fill" data-initial-color="transparent"
                    data-allow-transparent="true" title="Shape Fill"></div>
                </div>

                <!-- Eraser Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--eraser"
                  style="display: none;">
                  <input type="number" min="5" max="50" value="20" class="input input--number" title="Eraser Size"
                    data-setting="size">
                </div>

                <!-- Table Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--tables"
                  style="display: none;">
                  <input type="number" min="1" max="20" value="3" class="input input--number" title="Table Size"
                    data-setting="size">

                  <select class="input input--select" title="Table Type" data-setting="tableType">
                    <option value="basic">Basic</option>
                    <option value="bordered">Bordered</option>
                    <option value="striped">Striped</option>
                  </select>
                </div>
              </div>


              <div class="engine__tools-selection">
                <!-- Build Mode Tools -->
                <div class="engine__tools-group engine__tools-group--build" data-mode-tools="build">
                  <div class="engine__tools-item engine__tools-item--active" data-tool="selection">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-select.svg" alt="Selection Tool"
                      class="icon icon--base">
                    <span class="icon-label">Select</span>
                  </div>
                  <div class="engine__tools-item" data-tool="pen">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-pen.svg" alt="Pen Tool"
                      class="icon icon--base">
                    <span class="icon-label">Pen</span>
                  </div>
                  <div class="engine__tools-item" data-tool="brush">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-brush.svg" alt="Brush Tool"
                      class="icon icon--base">
                    <span class="icon-label">Brush</span>
                  </div>
                  <div class="engine__tools-item" data-tool="text">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-write.svg" alt="Text Tool"
                      class="icon icon--base">
                    <span class="icon-label">Text</span>
                  </div>
                  <div class="engine__tools-item" data-tool="shapes">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-shapes.svg" alt="Shapes Tool"
                      class="icon icon--base">
                    <span class="icon-label">Shapes</span>
                  </div>
                  <div class="engine__tools-item" data-tool="tables">
                    <img src="/src/assets/icons/coursebuilder/media/media-table.svg" alt="Table Tool"
                      class="icon icon--base">
                    <span class="icon-label">Tables</span>
                  </div>
                  <div class="engine__tools-item" data-tool="eraser">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-eraser.svg" alt="Eraser Tool"
                      class="icon icon--base">
                    <span class="icon-label">Eraser</span>
                  </div>
                </div>

                <!-- Animate Mode Tools -->
                <div class="engine__tools-group engine__tools-group--animate" data-mode-tools="animate"
                  style="display: none;">
                  <div class="engine__tools-item engine__tools-item--active" data-tool="selection">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-select.svg" alt="Selection Tool"
                      class="icon icon--base">
                    <span class="icon-label">Select</span>
                  </div>
                  <div class="engine__tools-item" data-tool="scene">
                    <img src="/src/assets/icons/coursebuilder/modes/mode-animate.svg" alt="Scene Tool"
                      class="icon icon--base">
                    <span class="icon-label">Scene</span>
                  </div>
                  <div class="engine__tools-item" data-tool="path">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-pen.svg" alt="Path Tool"
                      class="icon icon--base">
                    <span class="icon-label">Path</span>
                  </div>
                  <div class="engine__tools-item" data-tool="modify">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-shapes.svg" alt="Modify Tool"
                      class="icon icon--base">
                    <span class="icon-label">Modify</span>
                  </div>
                </div>
              </div>
            </div>

          </div> <!-- End engine__controls -->

          <!-- Navigation inside canvas can be added here if needed -->

          <!-- Snap Menu (positioned inside canvas) -->
          <div class="engine__snap-menu" id="snap-menu" data-snap-menu>
            <!-- Smart Guides Toggle -->
            <div class="engine__snap-item engine__snap-item--active" data-snap-option="smart">
              <input type="checkbox" id="smart-guides-toggle" class="engine__snap-toggle-checkbox" checked>
              <span>Smart Guides</span>
            </div>

            <!-- Enhanced Smart Guides Settings -->
            <div class="engine__snap-section">
              <div class="engine__snap-toggle" data-smart-setting="showDistToAll">
                <input type="checkbox" id="showDistToAll" checked>
                <label for="showDistToAll">Distance Labels</label>
              </div>

              <div class="engine__snap-toggle" data-smart-setting="enableResizeGuides">
                <input type="checkbox" id="enableResizeGuides" checked>
                <label for="enableResizeGuides">Resize Guides</label>
              </div>

              <div class="engine__snap-toggle" data-smart-setting="enableSmartSelection">
                <input type="checkbox" id="enableSmartSelection" checked>
                <label for="enableSmartSelection">Smart Selection</label>
              </div>

              <div class="engine__snap-toggle" data-smart-setting="enableColorCoding">
                <input type="checkbox" id="enableColorCoding" checked>
                <label for="enableColorCoding">Color Coding</label>
              </div>
            </div>

            <!-- Distribute actions -->
            <div class="engine__snap-divider"></div>
            <div class="engine__snap-row">
              <div class="engine__snap-item" data-distribute="horizontal">
                <img class="engine__snap-icon icon icon--base"
                  src="/src/assets/icons/coursebuilder/perspective/snap-smart.svg" alt="Distribute H"><span>Distribute
                  Horizontally</span>
              </div>
              <div class="engine__snap-item" data-distribute="vertical">
                <img class="engine__snap-icon icon icon--base"
                  src="/src/assets/icons/coursebuilder/perspective/snap-smart.svg" alt="Distribute V"><span>Distribute
                  Vertically</span>
              </div>
            </div>

            <!-- Smart Guide Reference Modes -->
            <div class="engine__snap-divider"></div>
            <div class="engine__snap-guide-modes">
              <label>Smart Guide Reference</label>
              <div class="engine__snap-row">
                <div class="engine__snap-item engine__snap-item--small engine__snap-item--active"
                  data-reference-mode="canvas"
                  title="Smart guides snap objects to canvas edges, center, or quadrants. Provides absolute positioning relative to the viewport; guides appear as lines from canvas boundaries during drag, with minimal tolerance for alignment.">
                  <img class="engine__snap-icon icon icon--base"
                    src="/src/assets/icons/coursebuilder/perspective/canvas-icon.svg"
                    alt="Canvas Reference"><span>Canvas Reference</span>
                </div>
                <div class="engine__snap-item engine__snap-item--small" data-reference-mode="object"
                  title="Smart guides align to other objects' edges, centers, or paths. Dynamic snapping based on nearby elements; shows temporary guide lines connecting matching points, with adjustable sensitivity for crowded scenes.">
                  <img class="engine__snap-icon icon icon--base"
                    src="/src/assets/icons/coursebuilder/perspective/selection-icon.svg"
                    alt="Object Reference"><span>Object Reference</span>
                </div>
                <div class="engine__snap-item engine__snap-item--small" data-reference-mode="grid"
                  title="Smart guides follow a predefined grid system (e.g., pixel or custom intervals). Restricts movement to grid increments; displays persistent grid lines or dots, enforcing uniform spacing unlike freeform object snapping.">
                  <img class="engine__snap-icon icon icon--base"
                    src="/src/assets/icons/coursebuilder/perspective/grid-icon.svg" alt="Grid Reference"><span>Grid
                    Reference</span>
                </div>
              </div>
            </div>

            <!-- Grid Options (only visible when Grid Reference is selected) -->
            <div class="engine__snap-grid-options" id="grid-options" style="display: none;">
              <div class="engine__snap-toggle">
                <input type="checkbox" id="show-grid" checked>
                <label for="show-grid">Show grid</label>
              </div>

              <div class="engine__snap-grid-spacing">
                <label for="grid-spacing">Grid spacing:</label>
                <input type="number" id="grid-spacing" min="1" max="100" value="20" class="input input--number">
                <span class="grid-spacing-unit">px</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Layers Panel - Now floating overlay on the right -->
        <div class="engine__panel">
          <div class="engine__panel-header">
            <div class="engine__panel-tabs">
              <button class="engine__panel-tab engine__panel-tab--active" data-panel="layers">
                Layers
              </button>
              <button class="engine__panel-tab" data-panel="navigation">
                Navigation
              </button>
            </div>
            <div class="engine__panel-select">
              <select class="engine__panel-select-input" data-panel-select aria-label="Panel view">
                <option value="layers" selected>Layers</option>
                <option value="navigation">Navigation</option>
              </select>
              <span class="engine__panel-select-icon" aria-hidden="true"></span>
            </div>
          </div>
          <div class="engine__panel-content">
            <!-- Layers Panel View -->
            <div class="engine__panel-view engine__panel-view--active" data-view="layers">
              <div class="engine__layers">
                <div class="layers-panel">
                  <div class="layers-panel__content">
                    <ol class="layers-list" id="layers-list-root"></ol>
                  </div>
                </div>
              </div>
            </div>
            <!-- Navigation Panel View -->
            <div class="engine__panel-view" data-view="navigation">
              <div class="engine__navigation">
                <div class="navigation-content">
                  <h4>Course Structure</h4>
                  <div class="navigation-content__item">
                    <strong>Lesson 1</strong>
                    <p>Introduction to the topic</p>
                  </div>
                  <div class="navigation-content__item navigation-content__item--active">
                    <strong>Lesson 2</strong>
                    <p>Current lesson - main concepts</p>
                  </div>
                  <div class="navigation-content__item">
                    <strong>Lesson 3</strong>
                    <p>Advanced topics and examples</p>
                  </div>

                  <h4>Quick Actions</h4>
                  <div class="navigation-content__item">
                    <strong>Save Progress</strong>
                    <p>Save current lesson state</p>
                  </div>
                  <div class="navigation-content__item">
                    <strong>Preview Course</strong>
                    <p>Preview the entire course</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Preview View -->
    <div class="coursebuilder__preview" aria-hidden="true" id="preview">
      <article class="article">
        <p class="placeholder">Course preview will be displayed here...</p>
      </article>
    </div>

    <!-- Launch View -->
    <div class="coursebuilder__launch" aria-hidden="true" id="launch">
      <article class="article">
        <p class="placeholder">Course launch options will be available here...</p>
      </article>
    </div>
  </main>

  <!-- Core application scripts -->
  <script type="module" src="/src/scripts/app.ts"></script>
  <!-- Custom selector initialization -->
  <script type="module" src="/src/scripts/coursebuilder/tools/CustomSelectorInit.ts"></script>
  <!-- Language loader for course languages -->
  <script type="module" src="/src/scripts/backend/courses/settings/languageLoader.ts"></script>
  <!-- Navigation system (handles all coursebuilder navigation) -->
  <script type="module" src="/src/scripts/navigation/CourseBuilderNavigation.ts"></script>
  <!-- Backend services -->
  <script type="module" src="/src/scripts/backend/courses/index.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/classification/classificationFormHandler.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/templates/createTemplate.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/templates/templateConfigHandler.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/templates/templatePreviewHandler.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/schedule/scheduleCourse.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/settings/pageSetupHandler.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/pedagogy/pedagogyHandler.ts"></script>
  <!-- Media Manager UI (search + providers) -->
  <script type="module" src="/src/scripts/media/ui/MediaInterface.ts"></script>


</body>

</html>
