<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="pixi-devtools" content="enabled" />
  <title>Course Builder - Neptino</title>

  <!-- Select2 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

  <link rel="stylesheet" href="/src/scss/main.scss" />
</head>

<body class="grid">
  <header class="grid__header header">
    <nav class="nav">
      <ul class="ul ul--header">
        <li class="ul__item">
          <button class="button button--outline button--small" id="previous-btn" title="Previous Step">
            Previous
          </button>
        </li>

        <li class="ul__item">
          <a class="link link--header" href="/src/pages/teacher/home.html" title="Back to Home">
            <img class="logo logo--small" src="/src/assets/logo/octopus-logo.png" alt="Neptino Logo" />
          </a>
        </li>

        <li class="ul__item">
          <button class="button button--outline button--small" id="next-btn" title="Next Step">
            Next
          </button>
        </li>
      </ul>
    </nav>
  </header>
  <main class="grid__main coursebuilder">


    <!-- Setup View -->
    <section class="coursebuilder__setup" aria-hidden="false" id="setup">
      <aside class="aside aside--main">
        <nav>
          <ul class="aside__list">
            <li class="aside__item">
              <h3 class="aside__heading">Setup</h3>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#essentials" data-section="essentials">Essentials</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#classification" data-section="classification">Classification</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#students" data-section="students">Students</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#pedagogy" data-section="pedagogy">Pedagogy</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#templates" data-section="templates">Templates</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#schedule" data-section="schedule">Schedule</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#curriculum" data-section="curriculum">Curriculum</a>
            </li>
            <li class="aside__item">
              <h3 class="aside__heading">Publishing</h3>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#course-visibility" data-section="course-visibility">Course
                visibility</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#marketplace" data-section="marketplace">Marketplace</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#pricing-monetization" data-section="pricing-monetization">Pricing &
                Monetization</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#external-integrations" data-section="external-integrations">External
                Integrations & APIs</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#communication" data-section="communication">Communication</a>
            </li>
            <li class="aside__item">
              <h3 class="aside__heading">Engine</h3>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#page-setup" data-section="page-setup">Page Setup</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#interface" data-section="interface">Interface</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#themes" data-section="themes">Themes</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#accessibility-comfort" data-section="accessibility-comfort">Accessibility &
                Comfort</a>
            </li>
            <li class="aside__item">
              <h3 class="aside__heading">Settings</h3>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#notifications-alerts" data-section="notifications-alerts">Notifications
                & Alerts</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#data-management" data-section="data-management">Data management &
                Backup</a>
            </li>
            <li class="aside__item">
              <a class="aside__link" href="#advanced-settings" data-section="advanced-settings">Advanced
                Settings</a>
            </li>
          </ul>
        </nav>
      </aside>

      <!-- Essentials Article -->
      <article id="essentials" data-course-section class="article article--essentials is-active">

        <form class="form form--essentials" id="course-essentials-form">
          <label class="form__label">
            Course Name
            <input class="input" type="text" name="course_name" placeholder="Enter course name" required />
          </label>
          <label class="form__label">
            Course Description
            <textarea class="form__textarea" name="course_description" rows="4"
              placeholder="Describe what students will learn" required></textarea>
          </label>
          <label class="form__label">
            Teacher
            <input class="input" type="text" name="teacher_id" placeholder="Loading..." readonly />
          </label>
          <label class="form__label">
            Institution
            <input class="input" type="text" name="institution" placeholder="Loading..." readonly />
          </label>
          <label class="form__label" for="course-language">
            Course Language
            <select class="input input--select" name="course_language" id="course-language" required>
              <option value="">Select language...</option>
            </select>
          </label>
          <label class="form__label" for="course-image">
            Course Image
            <input class="input input--file" type="file" name="course_image" id="course-image" accept="image/*"
              required />
            <img class="image image--small" id="preview-img" src="" alt="Course preview" style="display: none" />
            <button class="button button--small image-upload__remove" type="button" id="remove-image"
              style="display: none">
              ×
            </button>
          </label>
          <button class="button button--primary button--medium" type="submit" id="save-essentials-btn">
            Save Course Details
          </button>
        </form>
      </article>

      <!-- Classification Article -->
      <article id="classification" data-course-section class="article article--classification">
        <form class="form form--classification" id="course-classification-form">
          <label class="form__label" for="class-year-select">
            <span>Class Year</span>
            <select class="form__select input input--select" name="class_year" id="class-year-select" required>
              <option value="">Loading...</option>
            </select>
          </label>
          <label class="form__label" for="curricular-framework-select">
            <span>Curricular Framework</span>
            <select class="form__select input input--select" name="curricular_framework"
              id="curricular-framework-select" required>
              <option value="">Loading...</option>
            </select>
          </label>
          <label class="form__label" for="domain-select">
            <span>Domain</span>
            <span class="form__label-hint">Academic field</span>
            <select class="form__select input input--select" name="domain" id="domain-select" required>
              <option value="">Loading...</option>
            </select>
          </label>
          <label class="form__label" for="subject-select">
            <span>Subject</span>
            <span class="form__label-hint">Specific discipline</span>
            <select class="form__select input input--select" name="subject" id="subject-select" required disabled>
              <option value="">Select domain first...</option>
            </select>
          </label>
          <label class="form__label" for="topic-select">
            <span>Topic</span>
            <span class="form__label-hint">Area of study</span>
            <select class="form__select input input--select" name="topic" id="topic-select" required disabled>
              <option value="">Select subject first...</option>
            </select>
          </label>
          <label class="form__label" for="subtopic-select">
            <span>Subtopic</span>
            <span class="form__label-hint">Specific focus</span>
            <select class="form__select input input--select" name="subtopic" id="subtopic-select" disabled>
              <option value="">Select topic first...</option>
            </select>
          </label>
          <h3 class="form__title">Course Sequence</h3>
          <p class="form__description">Define how this course fits into a learning sequence.</p>
          <label class="form__label" for="previous-course-select">
            <span>Previous Course</span>
            <span class="form__label-hint">Course that should come before this one</span>
            <select class="form__select input input--select" name="previous_course" id="previous-course-select">
              <option value="">Loading courses...</option>
            </select>
          </label>
          <label class="form__label" for="current-course-select">
            <span>Current Course</span>
            <span class="form__label-hint">Other courses at this level</span>
            <select class="form__select input input--select" name="current_course" id="current-course-select">
              <option value="">Loading courses...</option>
            </select>
          </label>
          <label class="form__label" for="next-course-select">
            <span>Next Course</span>
            <span class="form__label-hint">Course that should come after this one</span>
            <select class="form__select input input--select" name="next_course" id="next-course-select">
              <option value="">Loading courses...</option>
            </select>
          </label>
        </form>
        <p class="coursebuilder__status" id="classification-save-status" aria-live="polite"></p>
      </article>
      <!-- Templates Article -->
      <article id="templates" data-course-section class="article article--templates">
        <header class="article__header">
          <h2 class="article__title">Template Library</h2>
          <div class="article__actions button-group button-group--right">
            <button class="button button--primary" id="create-template-btn" type="button">
              + Create New Template
            </button>
            <button class="button button--outline" id="load-template-btn" type="button">
              ↗ Load Template
            </button>
          </div>
        </header>

        <section class="article__config" aria-labelledby="template-config-title">
          <h3 id="template-config-title" class="coursebuilder__panel-title">Template Configuration</h3>
          <p id="template-config-content">Select or create a template to configure its settings.</p>
        </section>

        <section class="article__preview" aria-labelledby="template-preview-title">
          <h3 id="template-preview-title" class="coursebuilder__panel-title">Template Preview</h3>
          <p id="template-preview-content">Create a new template or select an existing one to see the preview here.</p>
        </section>


      </article>
      <!-- Schedule Article -->
      <article id="schedule" data-course-section class="article article--schedule">
        <header class="article__header">
          <h2 class="article__title">Schedule Configuration</h2>
        </header>

        <section class="article__config">
          <form class="form form--schedule" id="schedule-config">
            <label class="form__label">
              Start Date
              <input class="input input--date" type="date" id="start-date" required />
            </label>
            <label class="form__label">
              End Date
              <input class="input input--date" type="date" id="end-date" required />
            </label>

            <fieldset class="schedule__days" aria-label="Days of the Week">
              <legend class="form__label">Days of the Week</legend>
              <button class="button button--outline button--small schedule__days__button" type="button"
                data-day="monday">
                Mon
              </button>
              <button class="button button--outline button--small schedule__days__button" type="button"
                data-day="tuesday">
                Tue
              </button>
              <button class="button button--outline button--small schedule__days__button" type="button"
                data-day="wednesday">
                Wed
              </button>
              <button class="button button--outline button--small schedule__days__button" type="button"
                data-day="thursday">
                Thu
              </button>
              <button class="button button--outline button--small schedule__days__button" type="button"
                data-day="friday">
                Fri
              </button>
              <button class="button button--outline button--small schedule__days__button" type="button"
                data-day="saturday">
                Sat
              </button>
              <button class="button button--outline button--small schedule__days__button" type="button"
                data-day="sunday">
                Sun
              </button>
            </fieldset>

            <label class="form__label">
              Start Time
              <input class="input input--time" type="time" id="start-time" required />
            </label>
            <label class="form__label">
              End Time
              <input class="input input--time" type="time" id="end-time" required />
            </label>

            <footer class="schedule__actions button-group">
              <button class="button button--primary" type="button" id="schedule-course-btn" disabled>
                Schedule Course
              </button>
              <button class="button button--delete" type="button" id="delete-schedule-btn" style="display: none;">
                Delete Schedule
              </button>
            </footer>
          </form>
        </section>

        <section class="article__preview">
          <div class="schedule__preview" id="schedule-preview">
            <div class="schedule__content">
              <p class="schedule__placeholder">Click "Schedule Course" to generate your lesson schedule</p>
            </div>
            <p class="schedule__total">Total lessons: 0</p>
          </div>
        </section>
      </article>
      <!-- Curriculum Article -->
      <article id="curriculum" data-course-section class="article article--curriculum article--templates">
        <header class="article__header">
          <h2 class="article__title">Configure Curriculum</h2>
        </header>

        <section class="article__config">

          <form class="form form--curriculum">

            <div class="curriculum-config__group curriculum-config__group--durations">
              <button class="button button--small button--outline" type="button" data-duration="mini" data-max="30">
                Mini
              </button>
              <button class="button button--small button--outline" type="button" data-duration="single" data-max="60">
                Single
              </button>
              <button class="button button--small button--outline" type="button" data-duration="double" data-max="120">
                Double
              </button>
              <button class="button button--small button--outline" type="button" data-duration="triple" data-max="180">
                Triple
              </button>
              <button class="button button--small button--outline" type="button" data-duration="halfFull" data-max="999">
                Full day
              </button>
            </div>

            <div class="curriculum-config__group curriculum-config__group--structure">

              <label class="form__label">
                Topics per lesson
                <input class="input input--number" type="number" min="1" max="10" value="2" id="curriculum-topics" />
              </label>

              <label class="form__label">
                Objectives per topic
                <input class="input input--number" type="number" min="1" max="5" value="2" id="curriculum-objectives" />
              </label>

              <label class="form__label">
                Tasks per objective
                <input class="input input--number" type="number" min="1" max="5" value="2" id="curriculum-tasks" />
              </label>
            </div>

        </section>

        <section class="article__preview">
          <div class="curriculum__preview">
            <nav class="curriculum__controls" aria-label="Curriculum view modes">
              <button class="button button--small button--outline" type="button" data-mode="titles">
                Titles
              </button>
              <button class="button button--small button--outline" type="button" data-mode="topics">
                Topics
              </button>
              <button class="button button--small button--outline" type="button" data-mode="objectives">
                Objectives
              </button>
              <button class="button button--small button--outline" type="button" data-mode="tasks">
                Tasks
              </button>
              <button class="button button--small button--outline" type="button" data-mode="all">
                All
              </button>
            </nav>

            <div class="editable-surface">
              <!-- Dynamic content -->
            </div>
          </div>
        </section>
      </article>
      <!-- Settings Article -->
      <article id="settings" data-course-section class="article article--settings">
        <p class="placeholder">General settings content will be added here.</p>
      </article>
      <!-- Marketplace Article -->

      <article id="marketplace" data-course-section class="article article--marketplace">
        <p class="placeholder">Marketplace integration features will be available here...</p>
      </article>

      <!-- Resources Article -->
      <article id="resources" data-course-section class="article article--resources">
        <p class="placeholder">Resources content will be added here.</p>
      </article>

      <!-- Students Article -->
      <article id="students" data-course-section class="article article--students">
        <p class="placeholder">Students content will be added here.</p>
      </article>

      <!-- Pedagogy Article -->
      <article id="pedagogy" data-course-section class="article article--pedagogy article--templates">
        <header class="article__header">
          <h2 class="article__title">Pedagogy Map</h2>
        </header>

        <section class="article__config">
          <form class="form" id="course-pedagogy-form">
            <input type="hidden" name="course_pedagogy" id="course-pedagogy-input" />

            <div class="learning-plane" id="pedagogy-ui">
              <figure class="learning-plane__grid" role="application" aria-label="Pedagogical coordinate plane"
                tabindex="0">
                <span class="learning-plane__axis learning-plane__axis--left">Essentialist</span>
                <span class="learning-plane__axis learning-plane__axis--right">Progressive</span>
                <span class="learning-plane__axis learning-plane__axis--top">Constructivist</span>
                <span class="learning-plane__axis learning-plane__axis--bottom">Behaviorist</span>
                <span class="learning-plane__marker" id="pedagogy-marker" aria-hidden="true"></span>
              </figure>

              <p class="learning-plane__coord">
                <span class="learning-plane__coord-label">X</span>
                <output class="learning-plane__coord-value" id="pedagogy-x">0</output>
              </p>
              <p class="learning-plane__coord">
                <span class="learning-plane__coord-label">Y</span>
                <output class="learning-plane__coord-value" id="pedagogy-y">0</output>
              </p>

              <menu class="learning-plane__presets button-group" aria-label="Preset positions">
                <button type="button" class="button button--preset" data-x="-75" data-y="-75">Traditional</button>
                <button type="button" class="button button--preset" data-x="75" data-y="75">Progressive</button>
                <button type="button" class="button button--preset" data-x="-25" data-y="75">Guided Discovery</button>
                <button type="button" class="button button--preset" data-x="0" data-y="0">Balanced</button>
              </menu>
            </div>

            <p class="save-status" id="pedagogy-save-status">
              <span class="save-status__text">Changes will be saved automatically</span>
            </p>
          </form>
        </section>

        <section class="article__preview">
          <div class="learning-plane__summary">
            <h3 class="learning-plane__summary-title" id="pedagogy-approach-title">Balanced</h3>
            <p class="learning-plane__summary-subtitle" id="pedagogy-approach-subtitle"><em>Essentialist × Behaviorist
                ↔ Progressive × Constructivist</em></p>
            <p class="learning-plane__summary-description" id="pedagogy-approach-desc">
              A balanced blend of teacher guidance, student agency, and mixed knowledge construction.
            </p>

            <h4 class="learning-plane__impact-title">Implementation Impact</h4>
            <ul class="learning-plane__impact-list" id="pedagogy-impact-list">
              <!-- Dynamic bullets injected by script -->
            </ul>
          </div>
        </section>
      </article>

      <!-- Course Visibility Article -->
      <article id="course-visibility" data-course-section class="article article--course-visibility">
        <form class="form form--course-visibility settings__section" id="course-settings-form">
          <h4 class="settings__heading">Course Visibility</h4>
          <fieldset class="settings__checkboxes">
            <label class="form__label">
              <input class="input input--checkbox" type="checkbox" name="course_visible" />
              Course visible to students
            </label>

            <label class="form__label">
              <input class="input input--checkbox" type="checkbox" name="allow_enrollment" />
              Allow new enrollments
            </label>

            <label class="form__label">
              <input class="input input--checkbox" type="checkbox" name="require_approval" />
              Require enrollment approval
            </label>

            <label class="form__label">
              <input class="input input--checkbox" type="checkbox" name="enable_notifications" />
              Enable email notifications for new enrollments
            </label>

            <label class="form__label">
              <input class="input input--checkbox" type="checkbox" name="public_course" />
              Make course publicly discoverable
            </label>
          </fieldset>
          <p class="settings__status" id="settings-last-saved">
            <span class="settings__status-text" id="settings-save-status">
              Changes will be saved automatically
            </span>
          </p>
        </form>
      </article>

      <!-- Pricing & Monetization Article -->
      <article id="pricing-monetization" data-course-section class="article article--pricing-monetization">
        <p class="placeholder">Pricing & Monetization content will be added here.</p>
      </article>

      <!-- External Integrations & APIs Article -->
      <article id="external-integrations" data-course-section class="article article--external-integrations">
        <p class="placeholder">External Integrations & APIs content will be added here.</p>
      </article>

      <!-- Communication Article -->
      <article id="communication" data-course-section class="article article--communication">
        <p class="placeholder">Communication content will be added here.</p>
      </article>

      <!-- Page Setup Article -->
      <article id="page-setup" data-course-section class="article article--page-setup article--page-setup">
        <header class="article__header">
          <h2 class="article__title">Page Configuration</h2>
        </header>

        <section class="article__config">
          <form class="page-setup__config" id="page-setup-form">
            <fieldset class="page-setup__section page-setup__unit-options">
              <legend class="page-setup__label">Units</legend>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="units" value="cm" checked />
                Metric (cm)
              </label>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="units" value="inches" />
                Imperial (inches)
              </label>
            </fieldset>

            <fieldset class="page-setup__section page-setup__orientation-options">
              <legend class="page-setup__label">Orientation</legend>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="orientation" value="portrait" checked />
                Portrait
              </label>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="orientation" value="landscape" />
                Landscape
              </label>
            </fieldset>

            <fieldset class="page-setup__section page-setup__size-options">
              <legend class="page-setup__label">Canvas Size</legend>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="canvas-size" value="a4" checked />
                <span class="canvas-size-label" data-cm="A4 (21.0 × 29.7 cm)"
                  data-inches="A4 (8.27&quot; × 11.69&quot;)">A4 (21.0 × 29.7 cm)</span>
              </label>
              <label class="page-setup__option">
                <input class="input input--radio" type="radio" name="canvas-size" value="us-letter" />
                <span class="canvas-size-label" data-cm="US Letter (21.6 × 27.9 cm)"
                  data-inches="US Letter (8.5&quot; × 11&quot;)">US Letter (21.6 × 27.9 cm)</span>
              </label>
            </fieldset>

            <fieldset class="page-setup__section">
              <legend class="page-setup__label">Margins</legend>
              <div class="page-setup__margins">
                <div class="page-setup__margin-group">
                  <label class="page-setup__margin">
                    Top
                    <input class="input input--number" type="number" name="margin_top" value="2.54" step="0.01" min="0"
                      max="100" />
                    <span class="page-setup__unit">cm</span>
                  </label>
                  <label class="page-setup__margin">
                    Bottom
                    <input class="input input--number" type="number" name="margin_bottom" value="2.54" step="0.01"
                      min="0" max="100" />
                    <span class="page-setup__unit">cm</span>
                  </label>
                </div>
                <div class="page-setup__margin-group">
                  <label class="page-setup__margin">
                    Left
                    <input class="input input--number" type="number" name="margin_left" value="2.54" step="0.01" min="0"
                      max="100" />
                    <span class="page-setup__unit">cm</span>
                  </label>
                  <label class="page-setup__margin">
                    Right
                    <input class="input input--number" type="number" name="margin_right" value="2.54" step="0.01"
                      min="0" max="100" />
                    <span class="page-setup__unit">cm</span>
                  </label>
                </div>
              </div>
            </fieldset>
          </form>
        </section>

        <section class="article__preview">
          <div class="page-setup__preview">
            <h3 class="header">Page Preview</h3>
            <div class="page-setup__canvas-container">
              <canvas class="page-setup__canvas" id="page-preview-canvas" width="400" height="500"></canvas>
              <div class="page-setup__canvas-info">
                <output class="page-setup__dimensions" id="canvas-dimensions">210 × 297 mm (A4 Portrait)</output>
                <output class="page-setup__margins-info" id="margins-info">Margins: 2.54mm all sides</output>
              </div>
            </div>
          </div>
        </section>
      </article>

      <!-- Interface Article -->
      <article id="interface" data-course-section class="article article--interface">
        <p class="placeholder">Interface content will be added here.</p>
      </article>

      <!-- Themes Article -->
      <article id="themes" data-course-section class="article article--themes">
        <p class="placeholder">Themes content will be added here.</p>
      </article>

      <!-- Accessibility & Comfort Article -->
      <article id="accessibility-comfort" data-course-section class="article article--accessibility-comfort">
        <p class="placeholder">Accessibility & Comfort content will be added here.</p>
      </article>

      <!-- Notifications & Alerts Article -->
      <article id="notifications-alerts" data-course-section class="article article--notifications-alerts">
        <p class="placeholder">Notifications & Alerts content will be added here.</p>
      </article>

      <!-- Data Management & Backup Article -->
      <article id="data-management" data-course-section class="article article--data-management">
        <p class="placeholder">Data Management & Backup content will be added here.</p>
      </article>

      <!-- Advanced Settings Article -->
      <article id="advanced-settings" data-course-section class="article article--advanced-settings">
        <!-- Danger Zone -->
        <section class="settings__section settings__section--danger">
          <h3 class="settings__heading settings__heading--danger">
            Danger Zone
          </h3>
          <p class="settings__description">
            Once you delete a course, there is no going back. Please be certain.
          </p>
          <button class="button button--delete" id="delete-course-btn">
            Delete Course
          </button>
        </section>
      </article>
    </section>




    <!-- Create View -->
    <div class="coursebuilder__create" aria-hidden="true" id="create">
      <div class="engine">


        <div class="engine__content">
          <div class="engine__media">
            <div class="engine__media-item" data-media="files">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-files.svg" alt="">
              <span class="icon-label">Files</span>
            </div>
            <div class="engine__media-item" data-media="images">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-image.svg" alt="">
              <span class="icon-label">Images</span>
            </div>
            <div class="engine__media-item" data-media="videos">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-video.svg" alt="">
              <span class="icon-label">Videos</span>
            </div>
            <div class="engine__media-item" data-media="audio">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-audio.svg" alt="">
              <span class="icon-label">Audio</span>
            </div>
            <div class="engine__media-item" data-media="text">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-text.svg" alt="">
              <span class="icon-label">Text</span>
            </div>
            <div class="engine__media-item" data-media="plugin">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-plugins.svg" alt="">
              <span class="icon-label">Plugins</span>
            </div>
            <div class="engine__media-item" data-media="links">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-link.svg" alt="">
              <span class="icon-label">Links</span>
            </div>
            <div class="engine__media-item" data-media="interactive">
              <img class="icon icon--base" src="/src/assets/icons/coursebuilder/media/media-interactive.svg" alt="">
              <span class="icon-label">Interactive</span>
            </div>
            <div class="engine__media-item" data-media="games">
              <img class="icon icon--base" src="/src/assets/icons/joystick-icon.svg" alt="">
              <span class="icon-label">Games</span>
            </div>
            <div class="engine__media-item" data-media="graphs">
              <img class="icon icon--base" src="/src/assets/icons/chart-area-icon.svg" alt="">
              <span class="icon-label">Graphs</span>
            </div>
          </div>
          <!-- Search -->
          <div class="engine__search search">
            <input class="input input--search" type="search" placeholder="Search media..." id="media-search-input">
          </div>
        </div>

        <!-- Canvas Area -->
        <div class="engine__canvas canvas canvas--grid" id="canvas-container">
          <!-- Canvas will be inserted here by JavaScript -->

          <!-- Left Side: Perspective + Mode (inside canvas) -->
          <div class="engine__perspective">
            <!-- Zoom Indicator -->
            <div class="engine__perspective-zoom" title="Current zoom level - Ctrl/Cmd+wheel to zoom">100%</div>

            <div class="engine__perspective-item" data-perspective="zoom-in" title="Zoom In">
              <img src="/src/assets/icons/coursebuilder/perspective/zoomin-icon.svg" alt="Zoom In"
                class="icon icon--base">
              <span class="icon-label">Zoom In</span>
            </div>
            <div class="engine__perspective-item" data-perspective="zoom-out" title="Zoom Out">
              <img src="/src/assets/icons/coursebuilder/perspective/zoomout-icon.svg" alt="Zoom Out"
                class="icon icon--base">
              <span class="icon-label">Zoom Out</span>
            </div>

            <div class="engine__perspective-item" data-perspective="reset" title="Reset View">
              <img src="/src/assets/icons/coursebuilder/perspective/reset-icon.svg" alt="Reset View"
                class="icon icon--base">
              <span class="icon-label">Reset</span>
            </div>

            <div class="engine__perspective-item" data-perspective="grab" title="grab">
              <img src="/src/assets/icons/coursebuilder/perspective/grab-icon.svg" alt="grab" class="icon icon--base">
              <span class="icon-label">Grab</span>
            </div>

            <!-- Grid button (opens Snap Menu) -->
            <div class="engine__perspective-item" data-perspective="grid" title="Snapping" data-snap-anchor>
              <img src="/src/assets/icons/coursebuilder/perspective/grid-icon.svg" alt="Snapping"
                class="icon icon--base">
              <span class="icon-label">Grid</span>
            </div>
          </div>

          <!-- Bottom: Modes and Tools Container -->
          <div class="engine__controls">

            <!-- Mode Selector -->
            <div class="engine__modes">
              <div class="engine__modes-item engine__modes-item--compact" data-mode="build">
                <img class="icon icon--base" src="/src/assets/icons/coursebuilder/modes/mode-build.svg" alt="">
                <span class="icon-label">Build</span>
              </div>

              <div class="engine__modes-item engine__modes-item--compact" data-mode="animate">
                <img class="icon icon--base" src="/src/assets/icons/coursebuilder/modes/mode-animate.svg" alt="">
                <span class="icon-label">Animate</span>
              </div>
            </div>

            <!-- Tools (2 rows) -->
            <div class="engine__tools">
              <!-- Tool Options Row (Top) -->
              <div class="engine__tools-options">
                <!-- Pen Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--pen"
                  style="display: none;">
                  <input type="number" min="1" max="15" value="2" class="input input--number" title="Pen Size"
                    data-setting="size">

                  <div class="color-selector" data-color-selector="pen-stroke" data-initial-color="#282a29"
                    title="Stroke Color"></div>
                  <div class="color-selector" data-color-selector="pen-fill" data-initial-color="#fef6eb"
                    data-allow-transparent="true" title="Fill Color"></div>
                </div>

                <!-- Text Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--text"
                  style="display: none;">
                  <select id="text-size-select" class="input input--select" title="Text Size" data-setting="fontSize">
                    <option value="12" data-label="Normal">Normal Text (12 pt)</option>
                    <option value="26" data-label="Title">Title (26 pt)</option>
                    <option value="20" data-label="Header1">Header 1 (20 pt)</option>
                    <option value="16" data-label="Header2" selected>Header 2 (16 pt)</option>
                    <option value="14" data-label="Header3">Header 3 (14 pt)</option>
                  </select>

                  <div class="text-style-controls" aria-label="Text Style">
                    <button type="button" class="tools__button text-style-btn icon icon--base" data-text-style="bold"
                      title="Bold">B</button>
                    <button type="button" class="tools__button text-style-btn icon icon--base" data-text-style="italic"
                      title="Italic">I</button>
                  </div>

                  <select id="font-family-select" class="input input--select" title="Font Family"
                    data-setting="fontFamily">
                    <option value="Arial" data-font-family="Arial">Arial</option>
                    <option value="Times New Roman" data-font-family="Times New Roman">Times New Roman</option>
                    <option value="Georgia" data-font-family="Georgia">Georgia</option>
                    <option value="Verdana" data-font-family="Verdana">Verdana</option>
                    <option value="Tahoma" data-font-family="Tahoma">Tahoma</option>
                  </select>

                  <div class="color-selector" data-color-selector="text" data-initial-color="#282a29"
                    title="Text Color"></div>
                </div>

                <!-- Brush Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--brush"
                  style="display: none;">
                  <input type="number" min="10" max="50" value="20" class="input input--number" title="Brush Size"
                    data-setting="size">

                  <div class="color-selector" data-color-selector="brush" data-initial-color="#2b8059"
                    title="Brush Color"></div>
                </div>

                <!-- Shapes Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--shapes"
                  style="display: none;">
                  <div class="shape-selector" data-shape-selector="shapes" data-initial-shape="rectangle"
                    title="Shape Type"></div>

                  <input type="number" min="1" max="20" value="2" class="input input--number" title="Shape Thickness"
                    data-setting="strokeWidth">

                  <div class="color-selector" data-color-selector="shapes-stroke" data-initial-color="#282a29"
                    title="Shape Stroke"></div>
                  <div class="color-selector" data-color-selector="shapes-fill" data-initial-color="transparent"
                    data-allow-transparent="true" title="Shape Fill"></div>
                </div>

                <!-- Eraser Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--eraser"
                  style="display: none;">
                  <input type="number" min="5" max="50" value="20" class="input input--number" title="Eraser Size"
                    data-setting="size">
                </div>

                <!-- Table Settings -->
                <div class="engine__tools-item engine__tools-item--horizontal engine__tools-item--tables"
                  style="display: none;">
                  <input type="number" min="1" max="20" value="3" class="input input--number" title="Table Size"
                    data-setting="size">

                  <select class="input input--select" title="Table Type" data-setting="tableType">
                    <option value="basic">Basic</option>
                    <option value="bordered">Bordered</option>
                    <option value="striped">Striped</option>
                  </select>
                </div>
              </div>


              <div class="engine__tools-selection">
                <!-- Build Mode Tools -->
                <div class="engine__tools-group engine__tools-group--build" data-mode-tools="build">
                  <div class="engine__tools-item engine__tools-item--active" data-tool="selection">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-select.svg" alt="Selection Tool"
                      class="icon icon--base">
                    <span class="icon-label">Select</span>
                  </div>
                  <div class="engine__tools-item" data-tool="pen">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-pen.svg" alt="Pen Tool"
                      class="icon icon--base">
                    <span class="icon-label">Pen</span>
                  </div>
                  <div class="engine__tools-item" data-tool="brush">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-brush.svg" alt="Brush Tool"
                      class="icon icon--base">
                    <span class="icon-label">Brush</span>
                  </div>
                  <div class="engine__tools-item" data-tool="text">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-write.svg" alt="Text Tool"
                      class="icon icon--base">
                    <span class="icon-label">Text</span>
                  </div>
                  <div class="engine__tools-item" data-tool="shapes">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-shapes.svg" alt="Shapes Tool"
                      class="icon icon--base">
                    <span class="icon-label">Shapes</span>
                  </div>
                  <div class="engine__tools-item" data-tool="tables">
                    <img src="/src/assets/icons/coursebuilder/media/media-table.svg" alt="Table Tool"
                      class="icon icon--base">
                    <span class="icon-label">Tables</span>
                  </div>
                  <div class="engine__tools-item" data-tool="eraser">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-eraser.svg" alt="Eraser Tool"
                      class="icon icon--base">
                    <span class="icon-label">Eraser</span>
                  </div>
                </div>

                <!-- Animate Mode Tools -->
                <div class="engine__tools-group engine__tools-group--animate" data-mode-tools="animate"
                  style="display: none;">
                  <div class="engine__tools-item engine__tools-item--active" data-tool="selection">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-select.svg" alt="Selection Tool"
                      class="icon icon--base">
                    <span class="icon-label">Select</span>
                  </div>
                  <div class="engine__tools-item" data-tool="scene">
                    <img src="/src/assets/icons/coursebuilder/modes/mode-animate.svg" alt="Scene Tool"
                      class="icon icon--base">
                    <span class="icon-label">Scene</span>
                  </div>
                  <div class="engine__tools-item" data-tool="path">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-pen.svg" alt="Path Tool"
                      class="icon icon--base">
                    <span class="icon-label">Path</span>
                  </div>
                  <div class="engine__tools-item" data-tool="modify">
                    <img src="/src/assets/icons/coursebuilder/tools/tool-shapes.svg" alt="Modify Tool"
                      class="icon icon--base">
                    <span class="icon-label">Modify</span>
                  </div>
                </div>
              </div>
            </div>

          </div> <!-- End engine__controls -->

          <!-- Navigation inside canvas can be added here if needed -->

          <!-- Snap Menu (positioned inside canvas) -->
          <div class="engine__snap-menu" id="snap-menu" data-snap-menu>
            <!-- Smart Guides Toggle -->
            <div class="engine__snap-item engine__snap-item--active" data-snap-option="smart">
              <input type="checkbox" id="smart-guides-toggle" class="engine__snap-toggle-checkbox" checked>
              <span>Smart Guides</span>
            </div>

            <!-- Enhanced Smart Guides Settings -->
            <div class="engine__snap-section">
              <div class="engine__snap-toggle" data-smart-setting="showDistToAll">
                <input type="checkbox" id="showDistToAll" checked>
                <label for="showDistToAll">Distance Labels</label>
              </div>

              <div class="engine__snap-toggle" data-smart-setting="enableResizeGuides">
                <input type="checkbox" id="enableResizeGuides" checked>
                <label for="enableResizeGuides">Resize Guides</label>
              </div>

              <div class="engine__snap-toggle" data-smart-setting="enableSmartSelection">
                <input type="checkbox" id="enableSmartSelection" checked>
                <label for="enableSmartSelection">Smart Selection</label>
              </div>

              <div class="engine__snap-toggle" data-smart-setting="enableColorCoding">
                <input type="checkbox" id="enableColorCoding" checked>
                <label for="enableColorCoding">Color Coding</label>
              </div>
            </div>

            <!-- Distribute actions -->
            <div class="engine__snap-divider"></div>
            <div class="engine__snap-row">
              <div class="engine__snap-item" data-distribute="horizontal">
                <img class="engine__snap-icon icon icon--base"
                  src="/src/assets/icons/coursebuilder/perspective/snap-smart.svg" alt="Distribute H"><span>Distribute
                  Horizontally</span>
              </div>
              <div class="engine__snap-item" data-distribute="vertical">
                <img class="engine__snap-icon icon icon--base"
                  src="/src/assets/icons/coursebuilder/perspective/snap-smart.svg" alt="Distribute V"><span>Distribute
                  Vertically</span>
              </div>
            </div>

            <!-- Smart Guide Reference Modes -->
            <div class="engine__snap-divider"></div>
            <div class="engine__snap-guide-modes">
              <label>Smart Guide Reference</label>
              <div class="engine__snap-row">
                <div class="engine__snap-item engine__snap-item--small engine__snap-item--active"
                  data-reference-mode="canvas"
                  title="Smart guides snap objects to canvas edges, center, or quadrants. Provides absolute positioning relative to the viewport; guides appear as lines from canvas boundaries during drag, with minimal tolerance for alignment.">
                  <img class="engine__snap-icon icon icon--base"
                    src="/src/assets/icons/coursebuilder/perspective/canvas-icon.svg"
                    alt="Canvas Reference"><span>Canvas Reference</span>
                </div>
                <div class="engine__snap-item engine__snap-item--small" data-reference-mode="object"
                  title="Smart guides align to other objects' edges, centers, or paths. Dynamic snapping based on nearby elements; shows temporary guide lines connecting matching points, with adjustable sensitivity for crowded scenes.">
                  <img class="engine__snap-icon icon icon--base"
                    src="/src/assets/icons/coursebuilder/perspective/selection-icon.svg"
                    alt="Object Reference"><span>Object Reference</span>
                </div>
                <div class="engine__snap-item engine__snap-item--small" data-reference-mode="grid"
                  title="Smart guides follow a predefined grid system (e.g., pixel or custom intervals). Restricts movement to grid increments; displays persistent grid lines or dots, enforcing uniform spacing unlike freeform object snapping.">
                  <img class="engine__snap-icon icon icon--base"
                    src="/src/assets/icons/coursebuilder/perspective/grid-icon.svg" alt="Grid Reference"><span>Grid
                    Reference</span>
                </div>
              </div>
            </div>

            <!-- Grid Options (only visible when Grid Reference is selected) -->
            <div class="engine__snap-grid-options" id="grid-options" style="display: none;">
              <div class="engine__snap-toggle">
                <input type="checkbox" id="show-grid" checked>
                <label for="show-grid">Show grid</label>
              </div>

              <div class="engine__snap-grid-spacing">
                <label for="grid-spacing">Grid spacing:</label>
                <input type="number" id="grid-spacing" min="1" max="100" value="20" class="input input--number">
                <span class="grid-spacing-unit">px</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Layers Panel - Now floating overlay on the right -->
        <div class="engine__panel">
          <div class="engine__panel-header">
            <div class="engine__panel-tabs">
              <button class="engine__panel-tab engine__panel-tab--active" data-panel="layers">
                Layers
              </button>
              <button class="engine__panel-tab" data-panel="navigation">
                Navigation
              </button>
            </div>
            <div class="engine__panel-select">
              <select class="engine__panel-select-input" data-panel-select aria-label="Panel view">
                <option value="layers" selected>Layers</option>
                <option value="navigation">Navigation</option>
              </select>
              <span class="engine__panel-select-icon" aria-hidden="true"></span>
            </div>
          </div>
          <div class="engine__panel-content">
            <!-- Layers Panel View -->
            <div class="engine__panel-view engine__panel-view--active" data-view="layers">
              <div class="engine__layers">
                <div class="layers-panel">
                  <div class="layers-panel__content">
                    <ol class="layers-list" id="layers-list-root"></ol>
                  </div>
                </div>
              </div>
            </div>
            <!-- Navigation Panel View -->
            <div class="engine__panel-view" data-view="navigation">
              <div class="engine__navigation">
                <div class="navigation-content">
                  <h4>Course Structure</h4>
                  <div class="navigation-content__item">
                    <strong>Lesson 1</strong>
                    <p>Introduction to the topic</p>
                  </div>
                  <div class="navigation-content__item navigation-content__item--active">
                    <strong>Lesson 2</strong>
                    <p>Current lesson - main concepts</p>
                  </div>
                  <div class="navigation-content__item">
                    <strong>Lesson 3</strong>
                    <p>Advanced topics and examples</p>
                  </div>

                  <h4>Quick Actions</h4>
                  <div class="navigation-content__item">
                    <strong>Save Progress</strong>
                    <p>Save current lesson state</p>
                  </div>
                  <div class="navigation-content__item">
                    <strong>Preview Course</strong>
                    <p>Preview the entire course</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Preview View -->
    <div class="coursebuilder__preview" aria-hidden="true" id="preview">
      <article class="article">
        <p class="placeholder">Course preview will be displayed here...</p>
      </article>
    </div>

    <!-- Launch View -->
    <div class="coursebuilder__launch" aria-hidden="true" id="launch">
      <article class="article">
        <p class="placeholder">Course launch options will be available here...</p>
      </article>
    </div>
  </main>

  <!-- jQuery (required for Select2) -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Select2 JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <!-- Core application scripts -->
  <script type="module" src="/src/scripts/app.ts"></script>
  <!-- Custom selector initialization -->
  <script type="module" src="/src/scripts/coursebuilder/tools/CustomSelectorInit.ts"></script>
  <!-- Language loader for course languages -->
  <script type="module" src="/src/scripts/backend/courses/settings/languageLoader.ts"></script>
  <!-- Navigation system (handles all coursebuilder navigation) -->
  <script type="module" src="/src/scripts/navigation/CourseBuilderNavigation.ts"></script>
  <!-- Backend services -->
  <script type="module" src="/src/scripts/backend/courses/index.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/classification/classificationFormHandler.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/templates/createTemplate.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/templates/templateConfigHandler.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/templates/templatePreviewHandler.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/schedule/scheduleCourse.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/settings/pageSetupHandler.ts"></script>
  <script type="module" src="/src/scripts/backend/courses/pedagogy/pedagogyHandler.ts"></script>
  <!-- Media Manager UI (search + providers) -->
  <script type="module" src="/src/scripts/media/ui/MediaInterface.ts"></script>


</body>

</html>
