// ==========================================================================
// ICONS - Universal Neumorphic Design System with BEM Methodology
// ==========================================================================
@use "../abstracts/variables" as vars;

// ==========================================================================
// MIXINS - Size variations to avoid repetition
// ==========================================================================
@mixin icon-size-small {
  width: 2.5rem;
  height: 2.5rem;
  padding: 0.5rem;
}

@mixin icon-size-medium {
  width: 3rem;
  height: 3rem;
  padding: 0.75rem;
}

@mixin icon-size-large {
  width: 3.5rem;
  height: 3.5rem;
  padding: 1rem;
}

@mixin icon-size-xl {
  width: 4rem;
  height: 4rem;
  padding: 1.25rem;
}

.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: relative;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  // Universal neumorphic styling
  border-radius: 12px;
  box-shadow: 20px 20px 60px #d5d5d5,
              -20px -20px 60px #ffffff;
  // Default padding and sizing
  padding: 0.75rem;
  
  // Hover effects
  &:hover {
    transform: translateY(-2px);
    box-shadow: 22px 22px 65px #d5d5d5,
                -22px -22px 65px #ffffff;
  }
  
  // Active/pressed state
  &:active {
    transform: translateY(0);
    box-shadow: inset 10px 10px 30px #d5d5d5,
                inset -10px -10px 30px #ffffff;
  }
  
  // ==========================================================================
  // MODIFIERS - Size variations
  // ==========================================================================
  
  &--small {
    @include icon-size-small;
    box-shadow: 15px 15px 45px #d5d5d5,
                -15px -15px 45px #ffffff;
    
    &:hover {
      box-shadow: 17px 17px 50px #d5d5d5,
                  -17px -17px 50px #ffffff;
    }
  }
  
  &--medium {
    @include icon-size-medium;
  }
  
  &--large {
    @include icon-size-large;
    box-shadow: 25px 25px 70px #d5d5d5,
                -25px -25px 70px #ffffff;
    
    &:hover {
      box-shadow: 27px 27px 75px #d5d5d5,
                  -27px -27px 75px #ffffff;
    }
  }
  
  &--xl {
    @include icon-size-xl;
    box-shadow: 30px 30px 80px #d5d5d5,
                -30px -30px 80px #ffffff;
    
    &:hover {
      box-shadow: 32px 32px 85px #d5d5d5,
                  -32px -32px 85px #ffffff;
    }
  }
  
  // ==========================================================================
  // MODIFIERS - State variations
  // ==========================================================================
  
  &--selected {
    background: #e8e8e8;
    box-shadow: inset 15px 15px 45px #d5d5d5,
                inset -15px -15px 45px #ffffff;
    
    &:hover {
      transform: translateY(-1px);
      box-shadow: inset 18px 18px 50px #d5d5d5,
                  inset -18px -18px 50px #ffffff;
    }
  }
}

// ==========================================================================
// COURSEBUILDER ICON STYLING - Glassmorphism Icons with BEM
// ==========================================================================

// Icon wrapper container for icon + label styling
.icon-wrapper {
  display: grid;
  grid-template-rows: auto auto;
  place-items: center;
  gap: vars.$spacing-1;
  cursor: pointer;
  transition: all 0.3s ease;
  
  // Make sure icon and span are perfectly aligned
  .icon {
    grid-row: 1;
    justify-self: center;
  }
  
  // Icon wrapper selected state
  &--selected {
    .icon-name {
      color: vars.$primary-color;
      font-weight: vars.$font-weight-semibold;
    }
  }
}

// Icon name element
.icon-name {
  font-size: calc(vars.$font-size-xs * 0.9); // Slightly smaller
  color: vars.$text-secondary;
  text-align: center;
  font-weight: vars.$font-weight-medium;
  white-space: nowrap;
  transition: color 0.3s ease;
  line-height: 1.2; // Tight line height for better alignment
}

// Coursebuilder context - Override universal icon styles
.coursebuilder {
  .icon {
    width: 40px;
    height: 40px;
    padding: 5px;
    border-radius: vars.$border-radius-lg;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
    // Override universal icon styles for coursebuilder context
    box-shadow: none;
    border: 1px solid rgba(128, 128, 128, 0.2);
    
    // Default SVG stroke color
    svg, path {
      stroke: vars.$text-secondary;
      transition: stroke 0.3s ease;
    }
    
    &:hover {
      border-color: rgba(128, 128, 128, 0.35);
      transform: translateY(-1px);
      box-shadow: 
        8px 8px 16px #d5d5d5,
        -8px -8px 16px #ffffff,
        0 2px 8px rgba(128, 128, 128, 0.2);
    }
    
    // ==========================================================================
    // COURSEBUILDER ICON MODIFIERS - State variations
    // ==========================================================================
    
    &--selected {
      background: vars.$primary-color;
      box-shadow: 
        inset 8px 8px 16px rgba(vars.$primary-color, 0.3),
        inset -8px -8px 16px rgba(255, 255, 255, 0.8),
        0 4px 12px rgba(vars.$primary-color, 0.4);
      border: 1px solid rgba(vars.$primary-color, 0.6);
      
      // White stroke for selected icons
      svg, path {
        stroke: white;
        fill: white;
      }
    }
  }
  
  // Coursebuilder-specific icon class
  .coursebuilder-icon {
    @extend .icon;
    
    &--selected {
      @extend .icon--selected;
    }
  }
}