@mixin engine-surface(
    $radius: var(--radius-large),
    $bg: var(--color-background),
    $shadow: null,
    $border: 1px solid var(--color-neutral-200)
) {
    $default-shadow: (0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1));
    background: $bg;
    border-radius: $radius;
    border: $border;
    box-shadow: if($shadow == null, $default-shadow, $shadow);
}

@mixin engine-hide-scrollbar {
    scrollbar-width: none;
    &::-webkit-scrollbar { display: none; }
}

@mixin engine-stack($gap: var(--spacing-2)) {
    display: grid;
    grid-auto-flow: row;
    grid-auto-rows: min-content;
    gap: $gap;
}

@mixin engine-inline-stack($gap: var(--spacing-2)) {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: max-content;
    align-items: center;
    gap: $gap;
}

@mixin engine-pressable($size: 60px, $padding: var(--spacing-1)) {
    display: grid;
    place-items: center;
    width: $size;
    height: $size;
    padding: $padding;
    border: 1px solid var(--color-neutral-200);
    border-radius: var(--radius-medium);
    background: var(--color-background);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05), 0 1px 1px rgba(0, 0, 0, 0.08);
    cursor: pointer;
    transition: all 0.2s ease;
    user-select: none;
    pointer-events: auto;

    &:hover {
        transform: translateY(-1px);
        background: var(--color-neutral-50);
        border-color: var(--color-neutral-300);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.12);
    }

    &--active {
        background: #B3D7FF;
        border-color: #9AC8FF;
        box-shadow: 0 2px 8px rgba(179, 215, 255, 0.45);
        color: var(--color-neutral-900);

        .label {
             color: var(--color-neutral-900); 
            }

        &:hover {
            background: #A5CFFF;
            border-color: #8BBEFF;
        }
    }

    &--disabled {
        opacity: 0.4;
        cursor: not-allowed;
        pointer-events: none;
        background: rgba(255, 255, 255, 0.6);
        border-color: var(--color-neutral-200);
    }
}
