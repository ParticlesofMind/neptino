// ==========================================================================
// COURSEBUILDER SETUP VIEW - BEM Methodology
// ==========================================================================

.coursebuilder {
    // ==========================================================================
    // BLOCK BASE STYLES
    // ==========================================================================
    // Core coursebuilder sections are hidden when aria-hidden is true.

    &__setup[aria-hidden="true"],
    &__create[aria-hidden="true"],
    &__preview[aria-hidden="true"],
    &__launch[aria-hidden="true"] {
        display: none;
        visibility: hidden;
    }
}

.coursebuilder-setup {
    // ==========================================================================
    // BLOCK BASE STYLES
    // ==========================================================================
    display: grid;
    grid-template-columns: minmax(min(100%, 22rem), 24rem) minmax(0, 1fr);
    gap: clamp(var(--spacing-4), 3vw, var(--spacing-7));
    padding: clamp(var(--spacing-4), 4vw, var(--spacing-7));
    min-height: 100vh;
    height: 100dvh;
    align-items: stretch;
    container-type: inline-size;
    container-name: coursebuilder-setup;
    background: transparent;

    &[aria-hidden="true"] {
        display: none;
    }

    // ==========================================================================
    // ELEMENTS
    // ==========================================================================

    &__aside {
        display: grid;
        gap: var(--spacing-4);
        align-content: start;
        padding: clamp(var(--spacing-4), 3vw, var(--spacing-6));
        border-radius: var(--radius-medium);
        background: rgba(var(--color-background-rgb), 0.9);
        box-shadow: 0 18px 40px -32px rgba(15, 23, 42, 0.45);
        overflow-y: auto;
        scrollbar-gutter: stable both-edges;
        min-height: 0;
        max-height: 100%;
    }

    &__main {
        display: grid;
        gap: clamp(var(--spacing-5), 4vw, var(--spacing-8));
        align-content: start;
        overflow-y: auto;
        scrollbar-gutter: stable both-edges;
        padding-right: clamp(var(--spacing-1), 1vw, var(--spacing-2));
        min-height: 0;
        max-height: 100%;
    }
}

@container coursebuilder-setup (max-width: 58rem) {
    .coursebuilder-setup {
        grid-template-columns: minmax(0, 1fr);
    }
}

.coursebuilder-section {
    // ==========================================================================
    // BLOCK BASE STYLES
    // ==========================================================================
    display: grid;
    grid-template-columns: minmax(0, 1fr);
    gap: clamp(var(--spacing-2), 1.5vw, var(--spacing-4));
    align-content: start;
    align-items: stretch;
    justify-items: stretch;
    background: rgba(var(--color-background-rgb), 0.96);
    border-radius: var(--radius-medium);
    box-shadow: 0 24px 48px -32px rgba(15, 23, 42, 0.35);
    min-height: 0;

    // ==========================================================================
    // ELEMENTS
    // ==========================================================================

    &__body {
        display: grid;
        gap: clamp(var(--spacing-3), 1.5vw, var(--spacing-5));
        align-content: start;
        justify-items: stretch;
        align-items: stretch;
        min-height: 0;
        grid-auto-rows: minmax(0, 1fr);
    }

    &__config,
    &__preview {
        display: grid;
        gap: var(--spacing-2);
        align-content: start;
        justify-items: stretch;
        padding: clamp(var(--spacing-2), 1vw, var(--spacing-3));
        border-radius: var(--radius-small);
        background: rgba(var(--color-background-rgb), 0.88);
        border: 1px solid rgba(15, 23, 42, 0.08);
        min-height: 0;
        align-self: stretch;
    }

    &__preview {
        background: rgba(var(--color-background-rgb), 0.94);
    }

    // ==========================================================================
    // MODIFIERS
    // ==========================================================================

    &--split {
        .coursebuilder-section__body {
            grid-template-columns: minmax(min(100%, 22rem), 26rem) minmax(0, 1fr);
            align-items: stretch;
        }

        .coursebuilder-section__config,
        .coursebuilder-section__preview {
            max-height: calc(100dvh - 2 * var(--spacing-7));
            height: 100%;
            overflow-y: auto;
            scrollbar-gutter: stable;
        }
    }

    // ==========================================================================
    // STATES & INTERACTIONS
    // ==========================================================================

    &:focus-within {
        outline: 2px solid var(--color-primary-300);
        outline-offset: 3px;
    }

    > * {
        width: 100%;
    }
}

.content__section {
    display: none;
    margin: 0;

    &.is-active {
        display: grid;
    }
}

.coursebuilder-section .form {
    width: 100%;
    margin: 0;
    padding: clamp(var(--spacing-3), 1.5vw, var(--spacing-4));
    box-shadow: none;
    background: transparent;
}

.placeholder {
    margin: 0;
    padding: var(--spacing-5);
    color: var(--color-neutral-500);
    text-align: center;
    font-style: italic;
}
